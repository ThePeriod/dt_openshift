apiVersion: v1
items:
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2023-05-23 15:53:02 +0000 UTC
      openshift.io/deployer-pod.created-at: 2023-05-23 15:42:58 +0000 UTC
      openshift.io/deployer-pod.name: apicast-live-prod-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-live-prod
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-live-prod","namespace":"apicast-prod","uid":"96cc9764-5843-412c-b7a7-2c97c2d046f0","resourceVersion":"9844448","generation":1,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{}}},"subresource":"status"},{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-live-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_OIDC_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-live-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-live-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-live-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_OIDC_LOG_LEVEL","value":"debug"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":0,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]}}}
    creationTimestamp: "2023-05-23T15:42:58Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-live-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-live-prod-1
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-live-prod
      uid: 96cc9764-5843-412c-b7a7-2c97c2d046f0
    resourceVersion: "9851073"
    uid: 8baf0d31-3b5c-4ae2-ad67-6f01a6749137
  spec:
    replicas: 0
    selector:
      deployment: apicast-live-prod-1
      deploymentconfig: apicast-live-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: apicast-live-prod
          openshift.io/deployment.name: apicast-live-prod-1
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-live-prod-1
          deploymentconfig: apicast-live-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_OIDC_LOG_LEVEL
            value: debug
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: apicast-live-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2023-05-25 18:18:52 +0000 UTC
      openshift.io/deployer-pod.created-at: 2023-05-25 18:18:09 +0000 UTC
      openshift.io/deployer-pod.name: apicast-live-prod-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: apicast-live-prod
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-live-prod","namespace":"apicast-prod","uid":"96cc9764-5843-412c-b7a7-2c97c2d046f0","resourceVersion":"11597748","generation":2,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-live-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_OIDC_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:53:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-live-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-live-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-live-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_OIDC_LOG_LEVEL","value":"debug"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2023-05-23T15:42:58Z","lastTransitionTime":"2023-05-23T15:42:58Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2023-05-23T15:53:04Z","lastTransitionTime":"2023-05-23T15:53:04Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"apicast-live-prod-1\" has failed progressing"}]}}
    creationTimestamp: "2023-05-25T18:18:09Z"
    generation: 5
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-live-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-live-prod-2
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-live-prod
      uid: 96cc9764-5843-412c-b7a7-2c97c2d046f0
    resourceVersion: "286981888"
    uid: a019a414-6a35-48d1-bb9f-b6a09de4e3a2
  spec:
    replicas: 0
    selector:
      deployment: apicast-live-prod-2
      deploymentconfig: apicast-live-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: apicast-live-prod
          openshift.io/deployment.name: apicast-live-prod-2
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-live-prod-2
          deploymentconfig: apicast-live-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_OIDC_LOG_LEVEL
            value: debug
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: apicast-live-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 5
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      kubectl.kubernetes.io/update-source-id: apicast-live-prod-2:a019a414-6a35-48d1-bb9f-b6a09de4e3a2
      openshift.io/deployer-pod.completed-at: 2024-04-09 16:50:42 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-04-09 16:40:36 +0000 UTC
      openshift.io/deployer-pod.name: apicast-live-prod-3-deploy
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: apicast-live-prod
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-live-prod","namespace":"apicast-prod","uid":"96cc9764-5843-412c-b7a7-2c97c2d046f0","resourceVersion":"286948715","generation":3,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-live-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_OIDC_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{}},"f:requests":{".":{},"f:cpu":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-04-09T14:43:21Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-04-09T16:40:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-live-prod\"}":{"f:resources":{"f:limits":{"f:memory":{}},"f:requests":{"f:memory":{}}}}}}}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-live-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-live-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-live-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_OIDC_LOG_LEVEL","value":"debug"}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"200Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":3,"observedGeneration":2,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2023-05-25T18:18:55Z","lastTransitionTime":"2023-05-25T18:18:55Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-live-prod-2\" successfully rolled out"},{"type":"Available","status":"False","lastUpdateTime":"2024-04-09T14:43:21Z","lastTransitionTime":"2024-04-09T14:43:21Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: "2024-04-09T16:40:36Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-live-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-live-prod-3
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-live-prod
      uid: 96cc9764-5843-412c-b7a7-2c97c2d046f0
    resourceVersion: "286954693"
    uid: 3c618cc4-ef44-44d6-8272-38bac1a7d569
  spec:
    replicas: 0
    selector:
      deployment: apicast-live-prod-3
      deploymentconfig: apicast-live-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "3"
          openshift.io/deployment-config.name: apicast-live-prod
          openshift.io/deployment.name: apicast-live-prod-3
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-live-prod-3
          deploymentconfig: apicast-live-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_OIDC_LOG_LEVEL
            value: debug
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: apicast-live-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 1Gi
            requests:
              cpu: 500m
              memory: 200Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2024-04-09 17:36:35 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-04-09 17:36:25 +0000 UTC
      openshift.io/deployer-pod.name: apicast-live-prod-4-deploy
      openshift.io/deployment-config.latest-version: "4"
      openshift.io/deployment-config.name: apicast-live-prod
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-live-prod","namespace":"apicast-prod","uid":"96cc9764-5843-412c-b7a7-2c97c2d046f0","resourceVersion":"286981781","generation":4,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-live-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_OIDC_LOG_LEVEL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{}},"f:requests":{".":{},"f:cpu":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-04-09T16:40:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-live-prod\"}":{"f:resources":{"f:limits":{"f:memory":{}},"f:requests":{"f:memory":{}}}}}}}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-04-09T16:40:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-live-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-live-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-live-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_OIDC_LOG_LEVEL","value":"debug"}],"resources":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"200Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":4,"observedGeneration":3,"replicas":1,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2024-04-09T14:43:21Z","lastTransitionTime":"2024-04-09T14:43:21Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2024-04-09T16:50:45Z","lastTransitionTime":"2024-04-09T16:50:45Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"apicast-live-prod-3\" has failed progressing"}]}}
    creationTimestamp: "2024-04-09T17:36:25Z"
    generation: 2
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-live-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-live-prod-4
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-live-prod
      uid: 96cc9764-5843-412c-b7a7-2c97c2d046f0
    resourceVersion: "476624884"
    uid: 6748135e-ef3d-49b6-bce5-76ec6df669d3
  spec:
    replicas: 1
    selector:
      deployment: apicast-live-prod-4
      deploymentconfig: apicast-live-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "4"
          openshift.io/deployment-config.name: apicast-live-prod
          openshift.io/deployment.name: apicast-live-prod-4
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-live-prod-4
          deploymentconfig: apicast-live-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_OIDC_LOG_LEVEL
            value: debug
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          name: apicast-live-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: "1"
              memory: 1Gi
            requests:
              cpu: 500m
              memory: 200Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 2
    readyReplicas: 1
    replicas: 1
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2023-05-23 15:53:01 +0000 UTC
      openshift.io/deployer-pod.created-at: 2023-05-23 15:42:58 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"9844455","generation":1,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{}}},"subresource":"status"},{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":0,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]}}}
    creationTimestamp: "2023-05-23T15:42:58Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-1
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "9851069"
    uid: f52b7227-cf54-449a-a9bc-99714b442a78
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-prod-1
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-1
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-1
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2023-05-25 18:18:56 +0000 UTC
      openshift.io/deployer-pod.created-at: 2023-05-25 18:18:24 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"11597953","generation":2,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:53:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2023-05-23T15:42:58Z","lastTransitionTime":"2023-05-23T15:42:58Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2023-05-23T15:53:04Z","lastTransitionTime":"2023-05-23T15:53:04Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"apicast-staging-prod-1\" has failed progressing"}]}}
    creationTimestamp: "2023-05-25T18:18:24Z"
    generation: 5
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-2
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "480990342"
    uid: be1098c8-c5a8-4a74-a613-74e129b1ea76
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-prod-2
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-2
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-2
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 5
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      kubectl.kubernetes.io/update-source-id: apicast-staging-prod-2:be1098c8-c5a8-4a74-a613-74e129b1ea76
      openshift.io/deployer-pod.completed-at: 2024-07-23 17:00:14 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-07-23 16:50:00 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-3-deploy
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"474250040","generation":5,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-23T14:31:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-23T16:49:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-staging-prod\"}":{"f:livenessProbe":{"f:timeoutSeconds":{}},"f:readinessProbe":{"f:timeoutSeconds":{}}}}}}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":3,"observedGeneration":4,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2023-05-25T18:18:59Z","lastTransitionTime":"2023-05-25T18:18:26Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-staging-prod-2\" successfully rolled out"},{"type":"Available","status":"False","lastUpdateTime":"2024-07-23T14:31:55Z","lastTransitionTime":"2024-07-23T14:31:55Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: "2024-07-23T16:49:59Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-3
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "474264932"
    uid: fd7c1cd3-47e0-4e1f-98d4-3b6acb63ee9c
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-prod-3
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "3"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-3
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-3
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      kubectl.kubernetes.io/update-source-id: apicast-staging-prod-2:be1098c8-c5a8-4a74-a613-74e129b1ea76
      openshift.io/deployer-pod.completed-at: 2024-07-26 21:57:31 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-07-26 21:56:25 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-4-deploy
      openshift.io/deployment-config.latest-version: "4"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.cancelled: "true"
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: newer deployment was found running
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"480940608","generation":6,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-23T16:50:11Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-26T21:56:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-staging-prod\"}":{"f:env":{"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{"f:value":{}}},"f:livenessProbe":{"f:timeoutSeconds":{}},"f:readinessProbe":{"f:timeoutSeconds":{}}}}}}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"DEBUG"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":4,"observedGeneration":5,"replicas":1,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2024-07-23T14:31:55Z","lastTransitionTime":"2024-07-23T14:31:55Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2024-07-23T17:00:16Z","lastTransitionTime":"2024-07-23T17:00:16Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"apicast-staging-prod-3\" has failed progressing"}]}}
    creationTimestamp: "2024-07-26T21:56:25Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-4
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "480942440"
    uid: 6fd58188-4125-46b1-a37a-f4ec5f15a550
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-prod-4
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "4"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-4
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-4
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: DEBUG
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      kubectl.kubernetes.io/update-source-id: apicast-staging-prod-2:be1098c8-c5a8-4a74-a613-74e129b1ea76
      openshift.io/deployer-pod.completed-at: 2024-07-26 22:07:39 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-07-26 21:57:32 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-5-deploy
      openshift.io/deployment-config.latest-version: "5"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"480942317","generation":7,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-26T21:56:25Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-staging-prod\"}":{"f:env":{"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{"f:value":{}}},"f:livenessProbe":{"f:timeoutSeconds":{}},"f:readinessProbe":{"f:timeoutSeconds":{}}}}}}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-26T21:56:28Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":5,"observedGeneration":6,"replicas":2,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":2,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2024-07-23T14:31:55Z","lastTransitionTime":"2024-07-23T14:31:55Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2024-07-26T21:56:28Z","lastTransitionTime":"2024-07-26T21:56:28Z","reason":"ReplicationControllerUpdated","message":"replication controller \"apicast-staging-prod-4\" is progressing"}]}}
    creationTimestamp: "2024-07-26T21:57:32Z"
    generation: 3
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-5
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "480957600"
    uid: e309dc62-3824-4296-8690-0d641da25d10
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-prod-5
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "5"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-5
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-5
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    observedGeneration: 3
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2024-07-26 22:30:10 +0000 UTC
      openshift.io/deployer-pod.created-at: 2024-07-26 22:29:44 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-prod-6-deploy
      openshift.io/deployment-config.latest-version: "6"
      openshift.io/deployment-config.name: apicast-staging-prod
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"apps.openshift.io/v1","metadata":{"name":"apicast-staging-prod","namespace":"apicast-prod","uid":"9f29eb2d-b055-4f68-95f2-5d309f3116af","resourceVersion":"480989584","generation":8,"creationTimestamp":"2023-05-23T15:42:58Z","labels":{"app":"3scale-gateway","migration.openshift.io/migrated-by-migmigration":"d7f82f83-36b7-40cb-9be8-845686ebb478","migration.openshift.io/migrated-by-migplan":"1981d423-880a-454f-b775-1c317fd4855d","velero.io/backup-name":"migration-685ab-initial-9hwzb","velero.io/restore-name":"migration-685ab-final-dbsdc"},"annotations":{"openshift.io/backup-registry-hostname":"docker-registry.default.svc:5000","openshift.io/backup-server-version":"1.11","openshift.io/generated-by":"OpenShiftNewApp","openshift.io/migration-registry":"","openshift.io/restore-registry-hostname":"image-registry.openshift-image-registry.svc:5000","openshift.io/restore-server-version":"1.23"},"managedFields":[{"manager":"velero-server","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2023-05-23T15:42:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:openshift.io/backup-registry-hostname":{},"f:openshift.io/backup-server-version":{},"f:openshift.io/generated-by":{},"f:openshift.io/migration-registry":{},"f:openshift.io/restore-registry-hostname":{},"f:openshift.io/restore-server-version":{}},"f:labels":{".":{},"f:app":{},"f:migration.openshift.io/migrated-by-migmigration":{},"f:migration.openshift.io/migrated-by-migplan":{},"f:velero.io/backup-name":{},"f:velero.io/restore-name":{}}},"f:spec":{"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{".":{},"f:deploymentconfig":{}},"f:strategy":{"f:activeDeadlineSeconds":{},"f:rollingParams":{".":{},"f:intervalSeconds":{},"f:maxSurge":{},"f:maxUnavailable":{},"f:timeoutSeconds":{},"f:updatePeriodSeconds":{}},"f:type":{}},"f:template":{".":{},"f:metadata":{".":{},"f:annotations":{".":{},"f:openshift.io/generated-by":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:creationTimestamp":{},"f:labels":{".":{},"f:app":{},"f:deploymentconfig":{}}},"f:spec":{".":{},"f:containers":{".":{},"k:{\"name\":\"apicast-staging-prod\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"APICAST_CONFIGURATION_CACHE\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{".":{},"f:name":{}},"k:{\"name\":\"APICAST_MANAGEMENT_API\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_PATH_ROUTING\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_RESPONSE_CODES\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"APICAST_SERVICES_LIST\"}":{".":{},"f:name":{}},"k:{\"name\":\"OPENSSL_VERIFY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"REDIS_URL\"}":{".":{},"f:name":{}},"k:{\"name\":\"RESOLVER\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_CONFIG_FILE\"}":{".":{},"f:name":{}},"k:{\"name\":\"THREESCALE_DEPLOYMENT_ENV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"THREESCALE_PORTAL_ENDPOINT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":8090,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9421,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}},"f:triggers":{}}}},{"manager":"openshift-controller-manager","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-26T21:57:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:details":{".":{},"f:causes":{},"f:message":{}},"f:latestVersion":{},"f:observedGeneration":{},"f:replicas":{},"f:unavailableReplicas":{},"f:updatedReplicas":{}}},"subresource":"status"},{"manager":"Mozilla","operation":"Update","apiVersion":"apps.openshift.io/v1","time":"2024-07-26T22:29:44Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:template":{"f:spec":{"f:containers":{"k:{\"name\":\"apicast-staging-prod\"}":{"f:env":{"k:{\"name\":\"APICAST_CONFIGURATION_LOADER\"}":{"f:value":{}},"k:{\"name\":\"APICAST_LOG_LEVEL\"}":{"f:value":{}}},"f:livenessProbe":{"f:timeoutSeconds":{}},"f:readinessProbe":{"f:timeoutSeconds":{}}}}}}}}}]},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging-prod"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"3scale-gateway","deploymentconfig":"apicast-staging-prod"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","prometheus.io/port":"9421","prometheus.io/scrape":"true"}},"spec":{"containers":[{"name":"apicast-staging-prod","image":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7","ports":[{"name":"proxy","containerPort":8080,"protocol":"TCP"},{"name":"management","containerPort":8090,"protocol":"TCP"},{"name":"metrics","containerPort":9421,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","valueFrom":{"secretKeyRef":{"name":"apicast-configuration-url-secret","key":"password"}}},{"name":"THREESCALE_CONFIG_FILE"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"RESOLVER"},{"name":"APICAST_SERVICES_LIST"},{"name":"APICAST_CONFIGURATION_LOADER","value":"lazy"},{"name":"APICAST_LOG_LEVEL","value":"debug"},{"name":"APICAST_PATH_ROUTING","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"false"},{"name":"APICAST_CONFIGURATION_CACHE"},{"name":"REDIS_URL"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"OPENSSL_VERIFY","value":"false"}],"resources":{"limits":{"cpu":"1","memory":"128Mi"},"requests":{"cpu":"500m","memory":"64Mi"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":"management","scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":"management","scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":6,"observedGeneration":7,"replicas":1,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2024-07-23T14:31:55Z","lastTransitionTime":"2024-07-23T14:31:55Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2024-07-26T22:07:43Z","lastTransitionTime":"2024-07-26T22:07:43Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"apicast-staging-prod-5\" has failed progressing"}]}}
    creationTimestamp: "2024-07-26T22:29:44Z"
    generation: 2
    labels:
      app: 3scale-gateway
      migration.openshift.io/migrated-by-migmigration: d7f82f83-36b7-40cb-9be8-845686ebb478
      migration.openshift.io/migrated-by-migplan: 1981d423-880a-454f-b775-1c317fd4855d
      openshift.io/deployment-config.name: apicast-staging-prod
      velero.io/backup-name: migration-685ab-initial-9hwzb
      velero.io/restore-name: migration-685ab-final-dbsdc
    name: apicast-staging-prod-6
    namespace: apicast-prod
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging-prod
      uid: 9f29eb2d-b055-4f68-95f2-5d309f3116af
    resourceVersion: "491646492"
    uid: db0a70a5-1c35-40ec-b052-a73bcafc78c7
  spec:
    replicas: 1
    selector:
      deployment: apicast-staging-prod-6
      deploymentconfig: apicast-staging-prod
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "6"
          openshift.io/deployment-config.name: apicast-staging-prod
          openshift.io/deployment.name: apicast-staging-prod-6
          openshift.io/generated-by: OpenShiftNewApp
          prometheus.io/port: "9421"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app: 3scale-gateway
          deployment: apicast-staging-prod-6
          deploymentconfig: apicast-staging-prod
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            valueFrom:
              secretKeyRef:
                key: password
                name: apicast-configuration-url-secret
          - name: THREESCALE_CONFIG_FILE
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: RESOLVER
          - name: APICAST_SERVICES_LIST
          - name: APICAST_CONFIGURATION_LOADER
            value: lazy
          - name: APICAST_LOG_LEVEL
            value: debug
          - name: APICAST_PATH_ROUTING
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "false"
          - name: APICAST_CONFIGURATION_CACHE
          - name: REDIS_URL
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: OPENSSL_VERIFY
            value: "false"
          image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel7:3scale2.7
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: management
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging-prod
          ports:
          - containerPort: 8080
            name: proxy
            protocol: TCP
          - containerPort: 8090
            name: management
            protocol: TCP
          - containerPort: 9421
            name: metrics
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: management
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: "1"
              memory: 128Mi
            requests:
              cpu: 500m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 2
    readyReplicas: 1
    replicas: 1
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
