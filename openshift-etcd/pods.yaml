apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/config.hash: 771769e6a7514c9ee1018e93472005c8
      kubernetes.io/config.mirror: 771769e6a7514c9ee1018e93472005c8
      kubernetes.io/config.seen: "2023-05-04T21:57:04.596975971Z"
      kubernetes.io/config.source: file
      target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
    creationTimestamp: "2023-05-04T21:57:43Z"
    labels:
      app: etcd
      etcd: "true"
      k8s-app: etcd
      revision: "7"
    name: etcd-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: ocp4azu-sj2sl-master-0
      uid: 0000f293-27ae-40f3-8b64-6fd866e5ec4b
    resourceVersion: "1605703"
    uid: 2daae7f8-7c4b-41cd-8eb4-83d12118e951
  spec:
    containers:
    - command:
      - /bin/bash
      - -c
      - trap TERM INT; sleep infinity & wait
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcdctl
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        etcdctl member list || true

        # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
        # will succeed when you should fail.
        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt \
          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key \
          --endpoints=${ALL_ETCD_ENDPOINTS} \
          --data-dir=/var/lib/etcd \
          --target-peer-url-host=${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST} \
          --target-name=ocp4azu-sj2sl-master-0)
        export ETCD_INITIAL_CLUSTER

        # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
        # so we do the detection in etcd container itself.
        echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
        time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
          echo -n "."
          sleep 1
        done

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_0_ETCD_NAME}
        env | grep ETCD | grep -v NODE

        set -x
        # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
        exec nice -n -19 ionice -c2 -n0 etcd \
          --logger=zap \
          --log-level=info \
          --experimental-initial-corrupt-check=true \
          --initial-advertise-peer-urls=https://${NODE_ocp4azu_sj2sl_master_0_IP}:2380 \
          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-0.crt \
          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-0.key \
          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --client-cert-auth=true \
          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt \
          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key \
          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --peer-client-cert-auth=true \
          --advertise-client-urls=https://${NODE_ocp4azu_sj2sl_master_0_IP}:2379 \
          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ocp4azu_sj2sl_master_0_IP}:0 \
          --listen-peer-urls=https://0.0.0.0:2380 \
          --metrics=extensive \
          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: healthz
          port: 9980
          scheme: HTTPS
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      name: etcd
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      resources:
        requests:
          cpu: 300m
          memory: 600Mi
      securityContext:
        privileged: true
      startupProbe:
        failureThreshold: 18
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_0_ETCD_NAME}

        exec nice -n -18 etcd grpc-proxy start \
          --endpoints https://${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST}:9978 \
          --metrics-addr https://0.0.0.0:9979 \
          --listen-addr 127.0.0.1:9977 \
          --advertise-client-url ""  \
          --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key \
          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-0.key \
          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt \
          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-0.crt \
          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-metrics
      resources:
        requests:
          cpu: 40m
          memory: 200Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - args:
      - --targets=$(ETCDCTL_ENDPOINTS)
      - --probe-interval=1s
      - --log-outputs=stderr
      - --log-outputs=/var/log/etcd/etcd-health-probe.log
      - --enable-log-rotation
      - --pod-name=$(POD_NAME)
      - --static-pod-version=$(ETCD_STATIC_POD_VERSION)
      - --cert-file=$(ETCDCTL_CERT)
      - --key-file=$(ETCDCTL_KEY)
      - --cacert-file=$(ETCDCTL_CACERT)
      command:
      - cluster-etcd-operator
      - monitor
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      - name: OPENSHIFT_PROFILE
        value: web
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-health-monitor
      resources:
        requests:
          cpu: 50m
          memory: 70Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        exec nice -n -18 cluster-etcd-operator readyz \
          --target=https://localhost:2379 \
          --listen-port=9980 \
          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-0.crt \
          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-0.key \
          --client-cert-file=$(ETCDCTL_CERT) \
          --client-key-file=$(ETCDCTL_KEY) \
          --client-cacert-file=$(ETCDCTL_CACERT)
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-readyz
      ports:
      - containerPort: 9980
        hostPort: 9980
        name: readyz
        protocol: TCP
      resources:
        requests:
          cpu: 10m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    initContainers:
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        echo -n "Fixing etcd log permissions."
        chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: setup
      resources:
        requests:
          cpu: 5m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd
        name: log-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        : "${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST?not set}"
        : "${NODE_ocp4azu_sj2sl_master_0_ETCD_NAME?not set}"
        : "${NODE_ocp4azu_sj2sl_master_0_IP?not set}"

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_0_IP}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_0_IP}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected node IP to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_0_IP}" >&2
          exit 1
        fi

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST}" >&2
          exit 1
        fi
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-0.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: NODE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-ensure-env-vars
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
        cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-resources-copy
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /usr/local/bin
        name: usr-local-bin
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/manifests
        type: ""
      name: static-pod-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-pod-7
        type: ""
      name: resource-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-certs
        type: ""
      name: cert-dir
    - hostPath:
        path: /var/lib/etcd
        type: ""
      name: data-dir
    - hostPath:
        path: /usr/local/bin
        type: ""
      name: usr-local-bin
    - hostPath:
        path: /var/log/etcd
        type: ""
      name: log-dir
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:22Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:25:19Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:25:19Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:18Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://e7d5df317c8b2f716ed767143a3a412b01c638c7eea10ae7328441607bf79bab
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:22Z"
    - containerID: cri-o://e5bf083d905d33a959ad10b9212b7e857e5838e0aea611dece2fedaf9a5bdb36
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState:
        terminated:
          containerID: cri-o://8abf671f5117bcd852612e2178b0a76e53226a6eaf7ca05f359f3612c0c57296
          exitCode: 255
          finishedAt: "2023-05-11T18:25:04Z"
          message: "-base@v0.23.0/logs/logs.go:179 +0x85\n\ngoroutine 53 [syscall]:\nos/signal.signal_recv()\n\truntime/sigqueue.go:169
            +0x98\nos/signal.loop()\n\tos/signal/signal_unix.go:24 +0x19\ncreated
            by os/signal.Notify.func1.1\n\tos/signal/signal.go:151 +0x2c\n\ngoroutine
            54 [select]:\ngithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run.func1()\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:139
            +0x85\ncreated by github.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:138
            +0x18f\n\ngoroutine 55 [IO wait]:\ninternal/poll.runtime_pollWait(0x7f2d610590a0,
            0x72)\n\truntime/netpoll.go:303 +0x85\ninternal/poll.(*pollDesc).wait(0xc000534100,
            0x4, 0x0)\n\tinternal/poll/fd_poll_runtime.go:84 +0x32\ninternal/poll.(*pollDesc).waitRead(...)\n\tinternal/poll/fd_poll_runtime.go:89\ninternal/poll.(*FD).Accept(0xc000534100)\n\tinternal/poll/fd_unix.go:402
            +0x22c\nnet.(*netFD).accept(0xc000534100)\n\tnet/fd_unix.go:173 +0x35\nnet.(*TCPListener).accept(0xc0001a0030)\n\tnet/tcpsock_posix.go:140
            +0x28\nnet.(*TCPListener).Accept(0xc0001a0030)\n\tnet/tcpsock.go:262 +0x3d\nnet/http.(*Server).Serve(0xc00054a0e0,
            {0x297dd60, 0xc0001a0030})\n\tnet/http/server.go:3002 +0x394\nnet/http.(*Server).ListenAndServe(0xc00054a0e0)\n\tnet/http/server.go:2931
            +0x7d\nnet/http.ListenAndServe(...)\n\tnet/http/server.go:3185\ngithub.com/openshift/library-go/pkg/serviceability.StartProfiler.func1()\n\tgithub.com/openshift/library-go@v0.0.0-20220215155240-bb7a5da7adb6/pkg/ser"
          reason: Error
          startedAt: "2023-05-11T18:24:44Z"
      name: etcd-health-monitor
      ready: true
      restartCount: 6
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:25:19Z"
    - containerID: cri-o://88931d3dd6f8db12ac532530feea2a337d2173132623f8afe4133753f278cc38
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-metrics
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:22Z"
    - containerID: cri-o://8b46a934722b87869d0d3215034964859fd16da490bfd5ca9eb8303a5c663b37
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: etcd-readyz
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:22Z"
    - containerID: cri-o://1d456a3bb2411c609677ebedec5a7188c2ab02f2810a6677c1a7acd826c4d7d2
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcdctl
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:22Z"
    hostIP: 10.80.80.6
    initContainerStatuses:
    - containerID: cri-o://918f35f9a7b96cc883ee9f893f14c09f09ed9f4958cd5a103398205ce521c32b
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: setup
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://918f35f9a7b96cc883ee9f893f14c09f09ed9f4958cd5a103398205ce521c32b
          exitCode: 0
          finishedAt: "2023-05-11T18:24:19Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:19Z"
    - containerID: cri-o://c1b96faca7f247c84620e032746eea96dbcac4464b57ac96af6a7a07184106d1
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-ensure-env-vars
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://c1b96faca7f247c84620e032746eea96dbcac4464b57ac96af6a7a07184106d1
          exitCode: 0
          finishedAt: "2023-05-11T18:24:20Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:20Z"
    - containerID: cri-o://95769554f0080a45819b9c0ddc3b60d9bab86a62a1fd9256d5c7463e93855174
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-resources-copy
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://95769554f0080a45819b9c0ddc3b60d9bab86a62a1fd9256d5c7463e93855174
          exitCode: 0
          finishedAt: "2023-05-11T18:24:21Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:21Z"
    phase: Running
    podIP: 10.80.80.6
    podIPs:
    - ip: 10.80.80.6
    qosClass: Burstable
    startTime: "2023-05-11T18:24:18Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/config.hash: 07d1c725e90e4c1e6886a00a22a8c843
      kubernetes.io/config.mirror: 07d1c725e90e4c1e6886a00a22a8c843
      kubernetes.io/config.seen: "2023-05-04T21:58:48.916784799Z"
      kubernetes.io/config.source: file
      target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
    creationTimestamp: "2023-05-04T21:59:23Z"
    labels:
      app: etcd
      etcd: "true"
      k8s-app: etcd
      revision: "7"
    name: etcd-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: ocp4azu-sj2sl-master-1
      uid: b31818a2-097b-45e8-93e7-f2d7744bdb3e
    resourceVersion: "114617677"
    uid: 7a6783db-b073-4a7b-a4b8-e0a87e3fe7a9
  spec:
    containers:
    - command:
      - /bin/bash
      - -c
      - trap TERM INT; sleep infinity & wait
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcdctl
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        etcdctl member list || true

        # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
        # will succeed when you should fail.
        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt \
          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key \
          --endpoints=${ALL_ETCD_ENDPOINTS} \
          --data-dir=/var/lib/etcd \
          --target-peer-url-host=${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST} \
          --target-name=ocp4azu-sj2sl-master-1)
        export ETCD_INITIAL_CLUSTER

        # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
        # so we do the detection in etcd container itself.
        echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
        time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
          echo -n "."
          sleep 1
        done

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_1_ETCD_NAME}
        env | grep ETCD | grep -v NODE

        set -x
        # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
        exec nice -n -19 ionice -c2 -n0 etcd \
          --logger=zap \
          --log-level=info \
          --experimental-initial-corrupt-check=true \
          --initial-advertise-peer-urls=https://${NODE_ocp4azu_sj2sl_master_1_IP}:2380 \
          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-1.crt \
          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-1.key \
          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --client-cert-auth=true \
          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt \
          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key \
          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --peer-client-cert-auth=true \
          --advertise-client-urls=https://${NODE_ocp4azu_sj2sl_master_1_IP}:2379 \
          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ocp4azu_sj2sl_master_1_IP}:0 \
          --listen-peer-urls=https://0.0.0.0:2380 \
          --metrics=extensive \
          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: healthz
          port: 9980
          scheme: HTTPS
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      name: etcd
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      resources:
        requests:
          cpu: 300m
          memory: 600Mi
      securityContext:
        privileged: true
      startupProbe:
        failureThreshold: 18
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_1_ETCD_NAME}

        exec nice -n -18 etcd grpc-proxy start \
          --endpoints https://${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST}:9978 \
          --metrics-addr https://0.0.0.0:9979 \
          --listen-addr 127.0.0.1:9977 \
          --advertise-client-url ""  \
          --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key \
          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-1.key \
          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt \
          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-1.crt \
          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-metrics
      resources:
        requests:
          cpu: 40m
          memory: 200Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - args:
      - --targets=$(ETCDCTL_ENDPOINTS)
      - --probe-interval=1s
      - --log-outputs=stderr
      - --log-outputs=/var/log/etcd/etcd-health-probe.log
      - --enable-log-rotation
      - --pod-name=$(POD_NAME)
      - --static-pod-version=$(ETCD_STATIC_POD_VERSION)
      - --cert-file=$(ETCDCTL_CERT)
      - --key-file=$(ETCDCTL_KEY)
      - --cacert-file=$(ETCDCTL_CACERT)
      command:
      - cluster-etcd-operator
      - monitor
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      - name: OPENSHIFT_PROFILE
        value: web
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-health-monitor
      resources:
        requests:
          cpu: 50m
          memory: 70Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        exec nice -n -18 cluster-etcd-operator readyz \
          --target=https://localhost:2379 \
          --listen-port=9980 \
          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-1.crt \
          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-1.key \
          --client-cert-file=$(ETCDCTL_CERT) \
          --client-key-file=$(ETCDCTL_KEY) \
          --client-cacert-file=$(ETCDCTL_CACERT)
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-readyz
      ports:
      - containerPort: 9980
        hostPort: 9980
        name: readyz
        protocol: TCP
      resources:
        requests:
          cpu: 10m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    initContainers:
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        echo -n "Fixing etcd log permissions."
        chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: setup
      resources:
        requests:
          cpu: 5m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd
        name: log-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        : "${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST?not set}"
        : "${NODE_ocp4azu_sj2sl_master_1_ETCD_NAME?not set}"
        : "${NODE_ocp4azu_sj2sl_master_1_IP?not set}"

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_1_IP}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_1_IP}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected node IP to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_1_IP}" >&2
          exit 1
        fi

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST}" >&2
          exit 1
        fi
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-1.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: NODE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-ensure-env-vars
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
        cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-resources-copy
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /usr/local/bin
        name: usr-local-bin
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/manifests
        type: ""
      name: static-pod-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-pod-7
        type: ""
      name: resource-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-certs
        type: ""
      name: cert-dir
    - hostPath:
        path: /var/lib/etcd
        type: ""
      name: data-dir
    - hostPath:
        path: /usr/local/bin
        type: ""
      name: usr-local-bin
    - hostPath:
        path: /var/log/etcd
        type: ""
      name: log-dir
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:39Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:25:15Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:25:15Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:35Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://8c33b16a17170cb1d21df4ca841f154317d586fe00daefdbb660136a22e57059
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:39Z"
    - containerID: cri-o://2bffaa83e24869cf4e4903671d091fa3fbbac29aa30c166b734faad1ffd942a7
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState:
        terminated:
          containerID: cri-o://1dafcd725a94cfc3a74083127b4ce4a67e6a52107450f7852c540c68f6e01584
          exitCode: 255
          finishedAt: "2023-05-11T18:25:01Z"
          message: "se@v0.23.0/logs/logs.go:179 +0x85\n\ngoroutine 77 [syscall]:\nos/signal.signal_recv()\n\truntime/sigqueue.go:169
            +0x98\nos/signal.loop()\n\tos/signal/signal_unix.go:24 +0x19\ncreated
            by os/signal.Notify.func1.1\n\tos/signal/signal.go:151 +0x2c\n\ngoroutine
            116 [select]:\ngithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run.func1()\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:139
            +0x85\ncreated by github.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:138
            +0x18f\n\ngoroutine 117 [IO wait]:\ninternal/poll.runtime_pollWait(0x7fa604c56fc0,
            0x72)\n\truntime/netpoll.go:303 +0x85\ninternal/poll.(*pollDesc).wait(0xc000a80000,
            0x2, 0x0)\n\tinternal/poll/fd_poll_runtime.go:84 +0x32\ninternal/poll.(*pollDesc).waitRead(...)\n\tinternal/poll/fd_poll_runtime.go:89\ninternal/poll.(*FD).Accept(0xc000a80000)\n\tinternal/poll/fd_unix.go:402
            +0x22c\nnet.(*netFD).accept(0xc000a80000)\n\tnet/fd_unix.go:173 +0x35\nnet.(*TCPListener).accept(0xc000010060)\n\tnet/tcpsock_posix.go:140
            +0x28\nnet.(*TCPListener).Accept(0xc000010060)\n\tnet/tcpsock.go:262 +0x3d\nnet/http.(*Server).Serve(0xc00097e000,
            {0x297dd60, 0xc000010060})\n\tnet/http/server.go:3002 +0x394\nnet/http.(*Server).ListenAndServe(0xc00097e000)\n\tnet/http/server.go:2931
            +0x7d\nnet/http.ListenAndServe(...)\n\tnet/http/server.go:3185\ngithub.com/openshift/library-go/pkg/serviceability.StartProfiler.func1()\n\tgithub.com/openshift/library-go@v0.0.0-20220215155240-bb7a5da7adb6/pkg/serv"
          reason: Error
          startedAt: "2023-05-11T18:24:40Z"
      name: etcd-health-monitor
      ready: true
      restartCount: 4
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:25:02Z"
    - containerID: cri-o://6a23d8fafc4678c982caf65ec35617b1964a1f33349cb1d3c08dac23bb5934dc
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-metrics
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:39Z"
    - containerID: cri-o://d7f4e86932e5c739b2bac069b6da255d3f50fa424f116bba1f6060c0e95070bd
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: etcd-readyz
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:40Z"
    - containerID: cri-o://71a65e3e67e1f5d565c24f5c640e4f385f27ade730576986ef0fe28a04769f34
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcdctl
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:39Z"
    hostIP: 10.80.80.8
    initContainerStatuses:
    - containerID: cri-o://b659383be62f720b787ef879e3fb1350dbe4ccb8a60f3c0f048795e6e2a55fc5
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: setup
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://b659383be62f720b787ef879e3fb1350dbe4ccb8a60f3c0f048795e6e2a55fc5
          exitCode: 0
          finishedAt: "2023-05-11T18:24:36Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:36Z"
    - containerID: cri-o://a4ae511c445224fabe82da3661b3cc9d7f8ae0149cc0dd2bba097a270acbcc8f
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-ensure-env-vars
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://a4ae511c445224fabe82da3661b3cc9d7f8ae0149cc0dd2bba097a270acbcc8f
          exitCode: 0
          finishedAt: "2023-05-11T18:24:37Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:37Z"
    - containerID: cri-o://315c24851d32650ec0df7b6da4319bfe092b329c83ce4df011093a11b3db7307
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-resources-copy
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://315c24851d32650ec0df7b6da4319bfe092b329c83ce4df011093a11b3db7307
          exitCode: 0
          finishedAt: "2023-05-11T18:24:38Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:38Z"
    phase: Running
    podIP: 10.80.80.8
    podIPs:
    - ip: 10.80.80.8
    qosClass: Burstable
    startTime: "2023-05-11T18:24:35Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/config.hash: 153d8ac0d4feb04d8d4be5ba7f8173e6
      kubernetes.io/config.mirror: 153d8ac0d4feb04d8d4be5ba7f8173e6
      kubernetes.io/config.seen: "2023-05-04T21:55:17.465116614Z"
      kubernetes.io/config.source: file
      target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
    creationTimestamp: "2023-05-04T21:56:01Z"
    labels:
      app: etcd
      etcd: "true"
      k8s-app: etcd
      revision: "7"
    name: etcd-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      controller: true
      kind: Node
      name: ocp4azu-sj2sl-master-2
      uid: 70fcf7d1-ef27-4674-936c-0504a68de3e3
    resourceVersion: "465633622"
    uid: d2fb5b8d-9184-4558-8790-6770ddbc3023
  spec:
    containers:
    - command:
      - /bin/bash
      - -c
      - trap TERM INT; sleep infinity & wait
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcdctl
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        etcdctl member list || true

        # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
        # will succeed when you should fail.
        ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
          --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt \
          --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key \
          --endpoints=${ALL_ETCD_ENDPOINTS} \
          --data-dir=/var/lib/etcd \
          --target-peer-url-host=${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST} \
          --target-name=ocp4azu-sj2sl-master-2)
        export ETCD_INITIAL_CLUSTER

        # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
        # so we do the detection in etcd container itself.
        echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
        time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
          echo -n "."
          sleep 1
        done

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_2_ETCD_NAME}
        env | grep ETCD | grep -v NODE

        set -x
        # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
        exec nice -n -19 ionice -c2 -n0 etcd \
          --logger=zap \
          --log-level=info \
          --experimental-initial-corrupt-check=true \
          --initial-advertise-peer-urls=https://${NODE_ocp4azu_sj2sl_master_2_IP}:2380 \
          --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-2.crt \
          --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-2.key \
          --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
          --client-cert-auth=true \
          --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt \
          --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key \
          --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --peer-client-cert-auth=true \
          --advertise-client-urls=https://${NODE_ocp4azu_sj2sl_master_2_IP}:2379 \
          --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ocp4azu_sj2sl_master_2_IP}:0 \
          --listen-peer-urls=https://0.0.0.0:2380 \
          --metrics=extensive \
          --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: healthz
          port: 9980
          scheme: HTTPS
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      name: etcd
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 10
      resources:
        requests:
          cpu: 300m
          memory: 600Mi
      securityContext:
        privileged: true
      startupProbe:
        failureThreshold: 18
        httpGet:
          path: readyz
          port: 9980
          scheme: HTTPS
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/manifests
        name: static-pod-dir
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        export ETCD_NAME=${NODE_ocp4azu_sj2sl_master_2_ETCD_NAME}

        exec nice -n -18 etcd grpc-proxy start \
          --endpoints https://${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST}:9978 \
          --metrics-addr https://0.0.0.0:9979 \
          --listen-addr 127.0.0.1:9977 \
          --advertise-client-url ""  \
          --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key \
          --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-2.key \
          --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt \
          --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ocp4azu-sj2sl-master-2.crt \
          --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
          --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
          --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-metrics
      resources:
        requests:
          cpu: 40m
          memory: 200Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /var/lib/etcd/
        name: data-dir
    - args:
      - --targets=$(ETCDCTL_ENDPOINTS)
      - --probe-interval=1s
      - --log-outputs=stderr
      - --log-outputs=/var/log/etcd/etcd-health-probe.log
      - --enable-log-rotation
      - --pod-name=$(POD_NAME)
      - --static-pod-version=$(ETCD_STATIC_POD_VERSION)
      - --cert-file=$(ETCDCTL_CERT)
      - --key-file=$(ETCDCTL_KEY)
      - --cacert-file=$(ETCDCTL_CACERT)
      command:
      - cluster-etcd-operator
      - monitor
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: ETCD_STATIC_POD_VERSION
        value: "7"
      - name: OPENSHIFT_PROFILE
        value: web
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-health-monitor
      resources:
        requests:
          cpu: 50m
          memory: 70Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        exec nice -n -18 cluster-etcd-operator readyz \
          --target=https://localhost:2379 \
          --listen-port=9980 \
          --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-2.crt \
          --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ocp4azu-sj2sl-master-2.key \
          --client-cert-file=$(ETCDCTL_CERT) \
          --client-key-file=$(ETCDCTL_KEY) \
          --client-cacert-file=$(ETCDCTL_CACERT)
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: etcd-readyz
      ports:
      - containerPort: 9980
        hostPort: 9980
        name: readyz
        protocol: TCP
      resources:
        requests:
          cpu: 10m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd/
        name: log-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    initContainers:
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        echo -n "Fixing etcd log permissions."
        chmod 0700 /var/log/etcd && touch /var/log/etcd/etcd-health-probe.log && chmod 0600 /var/log/etcd/*
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: setup
      resources:
        requests:
          cpu: 5m
          memory: 50Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/log/etcd
        name: log-dir
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        : "${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST?not set}"
        : "${NODE_ocp4azu_sj2sl_master_2_ETCD_NAME?not set}"
        : "${NODE_ocp4azu_sj2sl_master_2_IP?not set}"

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_2_IP}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_2_IP}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected node IP to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_2_IP}" >&2
          exit 1
        fi

        # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
        if [[ "${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
          # echo the error message to stderr
          echo "Expected etcd url host to be ${NODE_IP} got ${NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST}" >&2
          exit 1
        fi
      env:
      - name: ALL_ETCD_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_API
        value: "3"
      - name: ETCDCTL_CACERT
        value: /etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt
      - name: ETCDCTL_CERT
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.crt
      - name: ETCDCTL_ENDPOINTS
        value: https://10.80.80.6:2379,https://10.80.80.7:2379,https://10.80.80.8:2379
      - name: ETCDCTL_KEY
        value: /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ocp4azu-sj2sl-master-2.key
      - name: ETCD_CIPHER_SUITES
        value: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
      - name: ETCD_DATA_DIR
        value: /var/lib/etcd
      - name: ETCD_ELECTION_TIMEOUT
        value: "2500"
      - name: ETCD_ENABLE_PPROF
        value: "true"
      - name: ETCD_EXPERIMENTAL_MAX_LEARNERS
        value: "3"
      - name: ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION
        value: 200ms
      - name: ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL
        value: 5s
      - name: ETCD_HEARTBEAT_INTERVAL
        value: "500"
      - name: ETCD_IMAGE
        value: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      - name: ETCD_INITIAL_CLUSTER_STATE
        value: existing
      - name: ETCD_QUOTA_BACKEND_BYTES
        value: "8589934592"
      - name: ETCD_SOCKET_REUSE_ADDRESS
        value: "true"
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_NAME
        value: ocp4azu-sj2sl-master-0
      - name: NODE_ocp4azu_sj2sl_master_0_ETCD_URL_HOST
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_0_IP
        value: 10.80.80.6
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_NAME
        value: ocp4azu-sj2sl-master-1
      - name: NODE_ocp4azu_sj2sl_master_1_ETCD_URL_HOST
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_1_IP
        value: 10.80.80.8
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_NAME
        value: ocp4azu-sj2sl-master-2
      - name: NODE_ocp4azu_sj2sl_master_2_ETCD_URL_HOST
        value: 10.80.80.7
      - name: NODE_ocp4azu_sj2sl_master_2_IP
        value: 10.80.80.7
      - name: NODE_IP
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: status.podIP
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-ensure-env-vars
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
    - command:
      - /bin/sh
      - -c
      - |
        #!/bin/sh
        set -euo pipefail

        rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
        cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imagePullPolicy: IfNotPresent
      name: etcd-resources-copy
      resources:
        requests:
          cpu: 10m
          memory: 60Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/static-pod-resources
        name: resource-dir
      - mountPath: /etc/kubernetes/static-pod-certs
        name: cert-dir
      - mountPath: /usr/local/bin
        name: usr-local-bin
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/manifests
        type: ""
      name: static-pod-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-pod-7
        type: ""
      name: resource-dir
    - hostPath:
        path: /etc/kubernetes/static-pod-resources/etcd-certs
        type: ""
      name: cert-dir
    - hostPath:
        path: /var/lib/etcd
        type: ""
      name: data-dir
    - hostPath:
        path: /usr/local/bin
        type: ""
      name: usr-local-bin
    - hostPath:
        path: /var/log/etcd
        type: ""
      name: log-dir
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:35Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-07-16T11:41:35Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-07-16T11:41:35Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-11T18:24:31Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://8ff6562270e075d3e64179d94da7976f65028503c246cb96a49c0f32b96a8326
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState:
        terminated:
          containerID: cri-o://5d422ead45971c6aba9fead5c73f7420d92ec559304e6bd153ebbcfb6bf5c22e
          exitCode: 0
          finishedAt: "2023-07-16T11:41:19Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:35Z"
      name: etcd
      ready: true
      restartCount: 4
      started: true
      state:
        running:
          startedAt: "2023-07-16T11:41:19Z"
    - containerID: cri-o://67793a99df9c48aabb006864bed7995f7310031e73100d9c6b6f819aab35d4c7
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState:
        terminated:
          containerID: cri-o://ae1e971e19e2e10443ba73c1e56465f2c283a67ba93fcdb37b107d52765fcfc0
          exitCode: 255
          finishedAt: "2023-05-11T18:24:57Z"
          message: "/wait.go:90\nk8s.io/apimachinery/pkg/util/wait.Forever(0x0, 0xc00017d740)\n\tk8s.io/apimachinery@v0.23.0/pkg/util/wait/wait.go:81
            +0x28\ncreated by k8s.io/component-base/logs.InitLogs\n\tk8s.io/component-base@v0.23.0/logs/logs.go:179
            +0x85\n\ngoroutine 81 [select]:\ngithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run.func1()\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:139
            +0x85\ncreated by github.com/openshift/cluster-etcd-operator/pkg/cmd/monitor.(*monitorOpts).Run\n\tgithub.com/openshift/cluster-etcd-operator/pkg/cmd/monitor/monitor.go:138
            +0x18f\n\ngoroutine 114 [IO wait]:\ninternal/poll.runtime_pollWait(0x7f312c79ffc0,
            0x72)\n\truntime/netpoll.go:303 +0x85\ninternal/poll.(*pollDesc).wait(0xc00011eb00,
            0x2, 0x0)\n\tinternal/poll/fd_poll_runtime.go:84 +0x32\ninternal/poll.(*pollDesc).waitRead(...)\n\tinternal/poll/fd_poll_runtime.go:89\ninternal/poll.(*FD).Accept(0xc00011eb00)\n\tinternal/poll/fd_unix.go:402
            +0x22c\nnet.(*netFD).accept(0xc00011eb00)\n\tnet/fd_unix.go:173 +0x35\nnet.(*TCPListener).accept(0xc000010030)\n\tnet/tcpsock_posix.go:140
            +0x28\nnet.(*TCPListener).Accept(0xc000010030)\n\tnet/tcpsock.go:262 +0x3d\nnet/http.(*Server).Serve(0xc000378000,
            {0x297dd60, 0xc000010030})\n\tnet/http/server.go:3002 +0x394\nnet/http.(*Server).ListenAndServe(0xc000378000)\n\tnet/http/server.go:2931
            +0x7d\nnet/http.ListenAndServe(...)\n\tnet/http/server.go:3185\ngithub.com/openshift/library-go/pkg/serviceability.StartProfiler.func1()\n\tgithub.com/openshift/library-go@v0.0.0-20220215155240-bb7a5da7adb6/pkg/serv"
          reason: Error
          startedAt: "2023-05-11T18:24:35Z"
      name: etcd-health-monitor
      ready: true
      restartCount: 5
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:57Z"
    - containerID: cri-o://e3ec725110007ffa594f38d9de00aab37e5c0fcc72597934120aee2b83544e98
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-metrics
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:35Z"
    - containerID: cri-o://538c1ed2f2e71ee58f87a83adf8fecd6b9ec11bcb47109f5990ddcfc5bf2c0b9
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: etcd-readyz
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:36Z"
    - containerID: cri-o://4b18203846f0a8e8d65ff5effb1313135a8476746767564f9a10c61dd78cc38e
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcdctl
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:24:35Z"
    hostIP: 10.80.80.7
    initContainerStatuses:
    - containerID: cri-o://4b24f56284ebdba6be8a540e91a5ea80ed0dd0c065cbe107931382b057c86375
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: setup
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://4b24f56284ebdba6be8a540e91a5ea80ed0dd0c065cbe107931382b057c86375
          exitCode: 0
          finishedAt: "2023-05-11T18:24:32Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:32Z"
    - containerID: cri-o://5a07934c4c42f6b69822d59358fba96c7dbc5449e753d6158dbcc21a3433ec6f
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-ensure-env-vars
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://5a07934c4c42f6b69822d59358fba96c7dbc5449e753d6158dbcc21a3433ec6f
          exitCode: 0
          finishedAt: "2023-05-11T18:24:33Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:33Z"
    - containerID: cri-o://a36da87ab56d61ac1a1f2b2b2a354f78d501e22e436cf5df34cf94b0854a41b9
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:449b8fc6893df653b49b07b36ba3dfbc55b439e674f68b73f1f236958c77fd0a
      lastState: {}
      name: etcd-resources-copy
      ready: true
      restartCount: 3
      state:
        terminated:
          containerID: cri-o://a36da87ab56d61ac1a1f2b2b2a354f78d501e22e436cf5df34cf94b0854a41b9
          exitCode: 0
          finishedAt: "2023-05-11T18:24:34Z"
          reason: Completed
          startedAt: "2023-05-11T18:24:34Z"
    phase: Running
    podIP: 10.80.80.7
    podIPs:
    - ip: 10.80.80.7
    qosClass: Burstable
    startTime: "2023-05-11T18:24:31Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-05-04T21:40:39Z"
    generateName: etcd-quorum-guard-59b5c794cd-
    labels:
      k8s-app: etcd-quorum-guard
      name: etcd-quorum-guard
      pod-template-hash: 59b5c794cd
    name: etcd-quorum-guard-59b5c794cd-65gld
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: etcd-quorum-guard-59b5c794cd
      uid: e39f525f-00d1-46e2-a823-f6fb7c56ce13
    resourceVersion: "293787926"
    uid: a596c76a-b990-4a47-8427-a11dcdd106c2
  spec:
    affinity:
      podAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd
          topologyKey: kubernetes.io/hostname
      podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd-quorum-guard
          topologyKey: kubernetes.io/hostname
    containers:
    - args:
      - -c
      - |
        # properly handle TERM and exit as soon as it is signaled
        set -euo pipefail
        trap 'jobs -p | xargs -r kill; exit 0' TERM
        sleep infinity & wait
      command:
      - /bin/bash
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imagePullPolicy: IfNotPresent
      name: guard
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -c
          - |
            declare -r health_endpoint="https://localhost:2379/health"
            declare -r cert="/var/run/secrets/etcd-client/tls.crt"
            declare -r key="/var/run/secrets/etcd-client/tls.key"
            declare -r cacert="/var/run/configmaps/etcd-ca/ca-bundle.crt"
            export NSS_SDB_USE_CACHE=no
            [[ -z $cert || -z $key ]] && exit 1
            curl --max-time 2 --silent --cert "${cert//:/\:}" --key "$key" --cacert "$cacert" "$health_endpoint" |grep '"health":"true"'
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        requests:
          cpu: 10m
          memory: 5Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/run/secrets/etcd-client
        name: etcd-client
      - mountPath: /var/run/configmaps/etcd-ca
        name: etcd-ca
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-nmmxl
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: ocp4azu-sj2sl-master-1
    nodeSelector:
      node-role.kubernetes.io/master: ""
    preemptionPolicy: PreemptLowerPriority
    priority: 2000000000
    priorityClassName: system-cluster-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 3
    tolerations:
    - effect: NoSchedule
      key: node-role.kubernetes.io/master
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/etcd
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    volumes:
    - name: etcd-client
      secret:
        defaultMode: 420
        secretName: etcd-client
    - configMap:
        defaultMode: 420
        name: etcd-ca-bundle
      name: etcd-ca
    - name: kube-api-access-nmmxl
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
        - configMap:
            items:
            - key: service-ca.crt
              path: service-ca.crt
            name: openshift-service-ca.crt
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:13Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-17T20:21:59Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-17T20:21:59Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:13Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://b0df3e1fa127251247b654c8043fde5fbdfd46b3da5eeabddb9a0e1da864181d
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      lastState: {}
      name: guard
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:26:19Z"
    hostIP: 10.80.80.8
    phase: Running
    podIP: 10.80.80.8
    podIPs:
    - ip: 10.80.80.8
    qosClass: Burstable
    startTime: "2023-05-04T21:45:13Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-05-04T21:40:39Z"
    generateName: etcd-quorum-guard-59b5c794cd-
    labels:
      k8s-app: etcd-quorum-guard
      name: etcd-quorum-guard
      pod-template-hash: 59b5c794cd
    name: etcd-quorum-guard-59b5c794cd-7bfqs
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: etcd-quorum-guard-59b5c794cd
      uid: e39f525f-00d1-46e2-a823-f6fb7c56ce13
    resourceVersion: "336151917"
    uid: 07e6032b-08d3-4f11-bd5d-95e90c13c596
  spec:
    affinity:
      podAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd
          topologyKey: kubernetes.io/hostname
      podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd-quorum-guard
          topologyKey: kubernetes.io/hostname
    containers:
    - args:
      - -c
      - |
        # properly handle TERM and exit as soon as it is signaled
        set -euo pipefail
        trap 'jobs -p | xargs -r kill; exit 0' TERM
        sleep infinity & wait
      command:
      - /bin/bash
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imagePullPolicy: IfNotPresent
      name: guard
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -c
          - |
            declare -r health_endpoint="https://localhost:2379/health"
            declare -r cert="/var/run/secrets/etcd-client/tls.crt"
            declare -r key="/var/run/secrets/etcd-client/tls.key"
            declare -r cacert="/var/run/configmaps/etcd-ca/ca-bundle.crt"
            export NSS_SDB_USE_CACHE=no
            [[ -z $cert || -z $key ]] && exit 1
            curl --max-time 2 --silent --cert "${cert//:/\:}" --key "$key" --cacert "$cacert" "$health_endpoint" |grep '"health":"true"'
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        requests:
          cpu: 10m
          memory: 5Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/run/secrets/etcd-client
        name: etcd-client
      - mountPath: /var/run/configmaps/etcd-ca
        name: etcd-ca
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-khplh
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: ocp4azu-sj2sl-master-0
    nodeSelector:
      node-role.kubernetes.io/master: ""
    preemptionPolicy: PreemptLowerPriority
    priority: 2000000000
    priorityClassName: system-cluster-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 3
    tolerations:
    - effect: NoSchedule
      key: node-role.kubernetes.io/master
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/etcd
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    volumes:
    - name: etcd-client
      secret:
        defaultMode: 420
        secretName: etcd-client
    - configMap:
        defaultMode: 420
        name: etcd-ca-bundle
      name: etcd-ca
    - name: kube-api-access-khplh
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
        - configMap:
            items:
            - key: service-ca.crt
              path: service-ca.crt
            name: openshift-service-ca.crt
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:45Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-05-18T00:50:33Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-05-18T00:50:33Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:45Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://8a4ff33781617f930e3d5b8ccdcddb494db4108212b20dc25cefac686545b337
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      lastState: {}
      name: guard
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:26:12Z"
    hostIP: 10.80.80.6
    phase: Running
    podIP: 10.80.80.6
    podIPs:
    - ip: 10.80.80.6
    qosClass: Burstable
    startTime: "2023-05-04T21:43:45Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-05-04T21:40:39Z"
    generateName: etcd-quorum-guard-59b5c794cd-
    labels:
      k8s-app: etcd-quorum-guard
      name: etcd-quorum-guard
      pod-template-hash: 59b5c794cd
    name: etcd-quorum-guard-59b5c794cd-ddhb9
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: etcd-quorum-guard-59b5c794cd
      uid: e39f525f-00d1-46e2-a823-f6fb7c56ce13
    resourceVersion: "465633635"
    uid: 352a36ed-d12f-4ec5-9591-4339e1fb481a
  spec:
    affinity:
      podAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd
          topologyKey: kubernetes.io/hostname
      podAntiAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: k8s-app
              operator: In
              values:
              - etcd-quorum-guard
          topologyKey: kubernetes.io/hostname
    containers:
    - args:
      - -c
      - |
        # properly handle TERM and exit as soon as it is signaled
        set -euo pipefail
        trap 'jobs -p | xargs -r kill; exit 0' TERM
        sleep infinity & wait
      command:
      - /bin/bash
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imagePullPolicy: IfNotPresent
      name: guard
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -c
          - |
            declare -r health_endpoint="https://localhost:2379/health"
            declare -r cert="/var/run/secrets/etcd-client/tls.crt"
            declare -r key="/var/run/secrets/etcd-client/tls.key"
            declare -r cacert="/var/run/configmaps/etcd-ca/ca-bundle.crt"
            export NSS_SDB_USE_CACHE=no
            [[ -z $cert || -z $key ]] && exit 1
            curl --max-time 2 --silent --cert "${cert//:/\:}" --key "$key" --cacert "$cacert" "$health_endpoint" |grep '"health":"true"'
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 5
        successThreshold: 1
        timeoutSeconds: 3
      resources:
        requests:
          cpu: 10m
          memory: 5Mi
      securityContext:
        privileged: true
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /var/run/secrets/etcd-client
        name: etcd-client
      - mountPath: /var/run/configmaps/etcd-ca
        name: etcd-ca
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-54cqc
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    nodeName: ocp4azu-sj2sl-master-2
    nodeSelector:
      node-role.kubernetes.io/master: ""
    preemptionPolicy: PreemptLowerPriority
    priority: 2000000000
    priorityClassName: system-cluster-critical
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 3
    tolerations:
    - effect: NoSchedule
      key: node-role.kubernetes.io/master
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node-role.kubernetes.io/etcd
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    volumes:
    - name: etcd-client
      secret:
        defaultMode: 420
        secretName: etcd-client
    - configMap:
        defaultMode: 420
        name: etcd-ca-bundle
      name: etcd-ca
    - name: kube-api-access-54cqc
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
        - configMap:
            items:
            - key: service-ca.crt
              path: service-ca.crt
            name: openshift-service-ca.crt
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:42:06Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2024-04-16T03:33:02Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2024-04-16T03:33:02Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:42:06Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://472825dcd1be3efdab2ea79c2e7c34e57a3d0aab1e474babab66fa5f9c58a6f3
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0ac9b5c2bf8e08f15e5d239a34102b09fd77985579ecece9d915a814c2e6405b
      lastState: {}
      name: guard
      ready: true
      restartCount: 3
      started: true
      state:
        running:
          startedAt: "2023-05-11T18:26:12Z"
    hostIP: 10.80.80.7
    phase: Running
    podIP: 10.80.80.7
    podIPs:
    - ip: 10.80.80.7
    qosClass: Burstable
    startTime: "2023-05-04T21:42:06Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.9"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.9"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:41:26Z"
    labels:
      app: installer
    name: installer-2-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-2
      uid: cccaa5d1-2355-4abf-bbc6-f2b167e76d4d
    resourceVersion: "9732"
    uid: 6b58e74d-2cbc-4703-ac2a-fbf2eedf3b7e
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=2
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:41:26Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:42:06Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:42:06Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:41:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://27378cdff05b4a5d4b2d985ec9784fd3f598d4fc627e2736a9bf59d6cc7239fd
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://27378cdff05b4a5d4b2d985ec9784fd3f598d4fc627e2736a9bf59d6cc7239fd
          exitCode: 0
          finishedAt: "2023-05-04T21:42:06Z"
          reason: Completed
          startedAt: "2023-05-04T21:41:34Z"
    hostIP: 10.80.80.7
    phase: Succeeded
    podIP: 10.128.0.9
    podIPs:
    - ip: 10.128.0.9
    qosClass: Guaranteed
    startTime: "2023-05-04T21:41:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.22"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.22"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:43:03Z"
    labels:
      app: installer
    name: installer-4-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-4
      uid: dd14bf6f-0770-4ab0-991f-8d637a7dc99f
    resourceVersion: "11640"
    uid: 27ba9907-ed31-4db1-87ac-fa382afbcdaa
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=4
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:03Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:38Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:38Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:43:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://8d29066831dac3e30f20074aabe8cdcfa03e3d36a47db52c5dd42fb0515f8deb
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://8d29066831dac3e30f20074aabe8cdcfa03e3d36a47db52c5dd42fb0515f8deb
          exitCode: 0
          finishedAt: "2023-05-04T21:43:38Z"
          reason: Completed
          startedAt: "2023-05-04T21:43:06Z"
    hostIP: 10.80.80.6
    phase: Succeeded
    podIP: 10.129.0.22
    podIPs:
    - ip: 10.129.0.22
    qosClass: Guaranteed
    startTime: "2023-05-04T21:43:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.41"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.41"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:44:17Z"
    labels:
      app: installer
    name: installer-5-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-5
      uid: 88bbdb31-5951-4a84-ae91-a2c875e091c1
    resourceVersion: "13285"
    uid: 35d5544d-4f1b-4817-a0f9-73469f2d3afb
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=5
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:44:17Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:12Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:12Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:44:17Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://85804d528cb528a93b933ef7426c0c58edd87594c005f3ec4fd1a9ab1841e180
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://85804d528cb528a93b933ef7426c0c58edd87594c005f3ec4fd1a9ab1841e180
          exitCode: 0
          finishedAt: "2023-05-04T21:45:12Z"
          reason: Completed
          startedAt: "2023-05-04T21:44:20Z"
    hostIP: 10.80.80.8
    phase: Succeeded
    podIP: 10.130.0.41
    podIPs:
    - ip: 10.130.0.41
    qosClass: Guaranteed
    startTime: "2023-05-04T21:44:17Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.44"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.44"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:52:15Z"
    labels:
      app: installer
    name: installer-6-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "25338"
    uid: 298396dd-6f28-47ea-982b-9e10116c7eb4
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=6
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:52:15Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:52:51Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:52:51Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:52:15Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://41f9af360a31a5c2b1e36edaa67f4c831a14037a36403bab027575ad84d57238
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://41f9af360a31a5c2b1e36edaa67f4c831a14037a36403bab027575ad84d57238
          exitCode: 0
          finishedAt: "2023-05-04T21:52:50Z"
          reason: Completed
          startedAt: "2023-05-04T21:52:18Z"
    hostIP: 10.80.80.6
    phase: Succeeded
    podIP: 10.129.0.44
    podIPs:
    - ip: 10.129.0.44
    qosClass: Guaranteed
    startTime: "2023-05-04T21:52:15Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.44"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.44"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:45:44Z"
    labels:
      app: installer
    name: installer-6-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "17526"
    uid: 6985cec1-baa9-4f22-a228-07feaaefd9ab
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=6
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:44Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:47:18Z"
      reason: PodFailed
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:47:18Z"
      reason: PodFailed
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:45:44Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://93b39dd48897eadbc645a9bed959422fd84e6ef7f1464fb0ce4c4c10f94792e1
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://93b39dd48897eadbc645a9bed959422fd84e6ef7f1464fb0ce4c4c10f94792e1
          exitCode: 1
          finishedAt: "2023-05-04T21:47:17Z"
          message: |
            064b040 0xc00064abe0 0xc00064adc0 0xc0008034a0 0xc000803540 0xc0008035e0 0xc00064b180 0xc000803680 0xc000803720] map[104:0xc0004d6aa0 118:0xc000803680] [] -1 0 0xc0004b0ab0 true <nil> []}
            I0504 21:45:47.567109       1 cmd.go:93] (*installerpod.InstallOptions)(0xc0008269c0)({
             KubeConfig: (string) "",
             KubeClient: (kubernetes.Interface) <nil>,
             Revision: (string) (len=1) "6",
             NodeName: (string) "",
             Namespace: (string) (len=14) "openshift-etcd",
             PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
             SecretNamePrefixes: ([]string) (len=1 cap=1) {
              (string) (len=14) "etcd-all-certs"
             },
             OptionalSecretNamePrefixes: ([]string) <nil>,
             ConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
              (string) (len=8) "etcd-pod",
              (string) (len=15) "etcd-serving-ca",
              (string) (len=19) "etcd-peer-client-ca",
              (string) (len=29) "etcd-metrics-proxy-serving-ca",
              (string) (len=28) "etcd-metrics-proxy-client-ca",
              (string) (len=14) "etcd-endpoints"
             },
             OptionalConfigMapNamePrefixes: ([]string) <nil>,
             CertSecretNames: ([]string) (len=1 cap=1) {
              (string) (len=14) "etcd-all-certs"
             },
             OptionalCertSecretNamePrefixes: ([]string) <nil>,
             CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
              (string) (len=16) "restore-etcd-pod",
              (string) (len=12) "etcd-scripts",
              (string) (len=15) "etcd-serving-ca",
              (string) (len=19) "etcd-peer-client-ca",
              (string) (len=29) "etcd-metrics-proxy-serving-ca",
              (string) (len=28) "etcd-metrics-proxy-client-ca"
             },
             OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
             CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
             ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
             PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
             Timeout: (time.Duration) 2m0s,
             StaticPodManifestsLockFile: (string) "",
             PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
             KubeletVersion: (string) ""
            })
            F0504 21:47:17.593949       1 cmd.go:106] the server was unable to return a response in the time allotted, but may still be processing the request (get pods)
          reason: Error
          startedAt: "2023-05-04T21:45:47Z"
    hostIP: 10.80.80.8
    phase: Failed
    podIP: 10.130.0.44
    podIPs:
    - ip: 10.130.0.44
    qosClass: Guaranteed
    startTime: "2023-05-04T21:45:44Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.33"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.33"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:50:38Z"
    labels:
      app: installer
    name: installer-6-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "24323"
    uid: a5dad464-24f1-4433-afff-b04f636d58af
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=6
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:50:38Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:51:14Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:51:14Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:50:38Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://4064d4ca4699f3063c172a0c9554c55c8d959c9281abb93016a2d804be03a28a
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://4064d4ca4699f3063c172a0c9554c55c8d959c9281abb93016a2d804be03a28a
          exitCode: 0
          finishedAt: "2023-05-04T21:51:13Z"
          reason: Completed
          startedAt: "2023-05-04T21:50:41Z"
    hostIP: 10.80.80.7
    phase: Succeeded
    podIP: 10.128.0.33
    podIPs:
    - ip: 10.128.0.33
    qosClass: Guaranteed
    startTime: "2023-05-04T21:50:38Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.51"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.51"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:48:37Z"
    labels:
      app: installer
    name: installer-6-retry-1-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "21076"
    uid: f3ad061e-c0c2-463f-b4ca-e23d9d837715
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=6
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:48:37Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:49:13Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:49:13Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:48:37Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://89d4e5bbfdf8fb3bffe9e252f3ad2b1761b6b43f0efc231495a8ab77d2c9eb16
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://89d4e5bbfdf8fb3bffe9e252f3ad2b1761b6b43f0efc231495a8ab77d2c9eb16
          exitCode: 0
          finishedAt: "2023-05-04T21:49:13Z"
          reason: Completed
          startedAt: "2023-05-04T21:48:40Z"
    hostIP: 10.80.80.8
    phase: Succeeded
    podIP: 10.130.0.51
    podIPs:
    - ip: 10.130.0.51
    qosClass: Guaranteed
    startTime: "2023-05-04T21:48:37Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.53"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.53"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:56:29Z"
    labels:
      app: installer
    name: installer-7-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "28462"
    uid: 3315cabc-81f8-45c2-ba3c-312fa7cc3c1f
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=7
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:56:29Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:57:05Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:57:05Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:56:29Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://634942dfa4b53fe2331217bb4bc79a0d2cdc73054540a2441d2dc9f5f462d152
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://634942dfa4b53fe2331217bb4bc79a0d2cdc73054540a2441d2dc9f5f462d152
          exitCode: 0
          finishedAt: "2023-05-04T21:57:04Z"
          reason: Completed
          startedAt: "2023-05-04T21:56:32Z"
    hostIP: 10.80.80.6
    phase: Succeeded
    podIP: 10.129.0.53
    podIPs:
    - ip: 10.129.0.53
    qosClass: Guaranteed
    startTime: "2023-05-04T21:56:29Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.69"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.69"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:58:14Z"
    labels:
      app: installer
    name: installer-7-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "29312"
    uid: 9e3b0ac9-cbab-41e6-84a6-936f464e5e53
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=7
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:58:14Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:58:49Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:58:49Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:58:14Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://1b3b29d665039c991fc7d254537173aa70cf59a99eda0e589b1f4097ae4d5ea5
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://1b3b29d665039c991fc7d254537173aa70cf59a99eda0e589b1f4097ae4d5ea5
          exitCode: 0
          finishedAt: "2023-05-04T21:58:49Z"
          reason: Completed
          startedAt: "2023-05-04T21:58:16Z"
    hostIP: 10.80.80.8
    phase: Succeeded
    podIP: 10.130.0.69
    podIPs:
    - ip: 10.130.0.69
    qosClass: Guaranteed
    startTime: "2023-05-04T21:58:14Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.44"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.44"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:42Z"
    labels:
      app: installer
    name: installer-7-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "27449"
    uid: 0ce1216a-99d5-4afc-a461-5168f8e7e252
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=2
      - --revision=7
      - --namespace=openshift-etcd
      - --pod=etcd-pod
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --pod-manifest-dir=/etc/kubernetes/manifests
      - --configmaps=etcd-pod
      - --configmaps=etcd-serving-ca
      - --configmaps=etcd-peer-client-ca
      - --configmaps=etcd-metrics-proxy-serving-ca
      - --configmaps=etcd-metrics-proxy-client-ca
      - --configmaps=etcd-endpoints
      - --secrets=etcd-all-certs
      - --cert-dir=/etc/kubernetes/static-pod-resources/etcd-certs
      - --cert-configmaps=restore-etcd-pod
      - --cert-configmaps=etcd-scripts
      - --cert-configmaps=etcd-serving-ca
      - --cert-configmaps=etcd-peer-client-ca
      - --cert-configmaps=etcd-metrics-proxy-serving-ca
      - --cert-configmaps=etcd-metrics-proxy-client-ca
      - --cert-secrets=etcd-all-certs
      command:
      - cluster-etcd-operator
      - installer
      env:
      - name: POD_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
      - name: NODE_NAME
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: installer
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
      - mountPath: /var/lock
        name: var-lock
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - hostPath:
        path: /var/lock
        type: ""
      name: var-lock
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:42Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:55:18Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:55:18Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:42Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://49f03d0f76339da2fe4b655074dd1f337e52fee1989354b6a95ddbc08d64bbdc
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: installer
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://49f03d0f76339da2fe4b655074dd1f337e52fee1989354b6a95ddbc08d64bbdc
          exitCode: 0
          finishedAt: "2023-05-04T21:55:17Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:45Z"
    hostIP: 10.80.80.7
    phase: Succeeded
    podIP: 10.128.0.44
    podIPs:
    - ip: 10.128.0.44
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:42Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.49"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.49"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:05Z"
    labels:
      app: pruner
    name: revision-pruner-6-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "26814"
    uid: 53919bdb-c346-4a1b-84c0-56dd619388ba
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=6
      - --protected-revisions=2,3,4,5,6
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:05Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:05Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:05Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:05Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://a83eed7d0cf4ef75b32a2c07205856566e5b019393311bba1c5aa0399c159c5a
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://a83eed7d0cf4ef75b32a2c07205856566e5b019393311bba1c5aa0399c159c5a
          exitCode: 0
          finishedAt: "2023-05-04T21:54:14Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:13Z"
    hostIP: 10.80.80.6
    phase: Succeeded
    podIP: 10.129.0.49
    podIPs:
    - ip: 10.129.0.49
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:05Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.64"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.64"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:07Z"
    labels:
      app: pruner
    name: revision-pruner-6-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "26899"
    uid: aecfa63a-d760-4118-9384-b644122a295b
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=6
      - --protected-revisions=2,3,4,5,6
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:11Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:27Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:27Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:11Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://01ebc14966f854e69d97f7d55942c5c1a994768d4670fb5e51480aa127afd91a
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://01ebc14966f854e69d97f7d55942c5c1a994768d4670fb5e51480aa127afd91a
          exitCode: 0
          finishedAt: "2023-05-04T21:54:26Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:26Z"
    hostIP: 10.80.80.8
    phase: Succeeded
    podIP: 10.130.0.64
    podIPs:
    - ip: 10.130.0.64
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:11Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.41"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.41"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:03Z"
    labels:
      app: pruner
    name: revision-pruner-6-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-6
      uid: 0f6b6282-ec5b-4981-b806-7e3fee9d4cf0
    resourceVersion: "26819"
    uid: 55ae3e24-4713-4734-9405-c485a93e7a9e
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=6
      - --protected-revisions=2,3,4,5,6
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:03Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:03Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:03Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:03Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://0b486e04fe842c121cb2c3cf4603e9774fbcdab14d1d3dc17e214fd25ad9698d
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://0b486e04fe842c121cb2c3cf4603e9774fbcdab14d1d3dc17e214fd25ad9698d
          exitCode: 0
          finishedAt: "2023-05-04T21:54:06Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:05Z"
    hostIP: 10.80.80.7
    phase: Succeeded
    podIP: 10.128.0.41
    podIPs:
    - ip: 10.128.0.41
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:03Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.50"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.129.0.50"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:29Z"
    labels:
      app: pruner
    name: revision-pruner-7-ocp4azu-sj2sl-master-0
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "26977"
    uid: 75eda5a4-4514-44f2-86a2-a16313a0497d
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=7
      - --protected-revisions=2,3,4,5,6,7
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-0
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:29Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:29Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:29Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:29Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://c2aee3848444fc4645b57cc8c013ef9ad271ff8a75b8a58fc61a5f2acbf63016
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://c2aee3848444fc4645b57cc8c013ef9ad271ff8a75b8a58fc61a5f2acbf63016
          exitCode: 0
          finishedAt: "2023-05-04T21:54:32Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:32Z"
    hostIP: 10.80.80.6
    phase: Succeeded
    podIP: 10.129.0.50
    podIPs:
    - ip: 10.129.0.50
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:29Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.65"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.130.0.65"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:33Z"
    labels:
      app: pruner
    name: revision-pruner-7-ocp4azu-sj2sl-master-1
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "27082"
    uid: 490c4e4d-4777-4a72-b60c-d9a9b6081cd5
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=7
      - --protected-revisions=2,3,4,5,6,7
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-1
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:33Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:37Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:37Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:33Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://09dfb9e50674077678c3048adc6beead8daaf52c320c0330ba536066cc64a18b
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://09dfb9e50674077678c3048adc6beead8daaf52c320c0330ba536066cc64a18b
          exitCode: 0
          finishedAt: "2023-05-04T21:54:36Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:36Z"
    hostIP: 10.80.80.8
    phase: Succeeded
    podIP: 10.130.0.65
    podIPs:
    - ip: 10.130.0.65
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:33Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      k8s.v1.cni.cncf.io/network-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.42"
            ],
            "default": true,
            "dns": {}
        }]
      k8s.v1.cni.cncf.io/networks-status: |-
        [{
            "name": "openshift-sdn",
            "interface": "eth0",
            "ips": [
                "10.128.0.42"
            ],
            "default": true,
            "dns": {}
        }]
    creationTimestamp: "2023-05-04T21:54:27Z"
    labels:
      app: pruner
    name: revision-pruner-7-ocp4azu-sj2sl-master-2
    namespace: openshift-etcd
    ownerReferences:
    - apiVersion: v1
      kind: ConfigMap
      name: revision-status-7
      uid: 3ead7db8-7e2e-4f87-b805-9bd8330b2b90
    resourceVersion: "26963"
    uid: 416f140d-b9c0-40a6-bc4e-a1c1dd871021
  spec:
    automountServiceAccountToken: false
    containers:
    - args:
      - -v=4
      - --max-eligible-revision=7
      - --protected-revisions=2,3,4,5,6,7
      - --resource-dir=/etc/kubernetes/static-pod-resources
      - --cert-dir=etcd-certs
      - --static-pod-name=etcd-pod
      command:
      - cluster-etcd-operator
      - prune
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imagePullPolicy: IfNotPresent
      name: pruner
      resources:
        limits:
          cpu: 150m
          memory: 200M
        requests:
          cpu: 150m
          memory: 200M
      securityContext:
        privileged: true
        runAsUser: 0
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: FallbackToLogsOnError
      volumeMounts:
      - mountPath: /etc/kubernetes/
        name: kubelet-dir
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    imagePullSecrets:
    - name: installer-sa-dockercfg-vmwdt
    nodeName: ocp4azu-sj2sl-master-2
    preemptionPolicy: PreemptLowerPriority
    priority: 2000001000
    priorityClassName: system-node-critical
    restartPolicy: Never
    schedulerName: default-scheduler
    securityContext:
      runAsUser: 0
    serviceAccount: installer-sa
    serviceAccountName: installer-sa
    terminationGracePeriodSeconds: 30
    tolerations:
    - operator: Exists
    volumes:
    - hostPath:
        path: /etc/kubernetes/
        type: ""
      name: kubelet-dir
    - name: kube-api-access
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3600
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:27Z"
      reason: PodCompleted
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:31Z"
      reason: PodCompleted
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:31Z"
      reason: PodCompleted
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-05-04T21:54:27Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: cri-o://f153fa6b07217afa4b785a92cbbf5687ef07a2d625a980e2ff194384bdfb4b4a
      image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:162ff7d98b01d6fad77ac3a2208dcdf70b792a334083ff6f229806aaa191a3cf
      lastState: {}
      name: pruner
      ready: false
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: cri-o://f153fa6b07217afa4b785a92cbbf5687ef07a2d625a980e2ff194384bdfb4b4a
          exitCode: 0
          finishedAt: "2023-05-04T21:54:30Z"
          reason: Completed
          startedAt: "2023-05-04T21:54:30Z"
    hostIP: 10.80.80.7
    phase: Succeeded
    podIP: 10.128.0.42
    podIPs:
    - ip: 10.128.0.42
    qosClass: Guaranteed
    startTime: "2023-05-04T21:54:27Z"
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
