apiVersion: v1
items:
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-12T20:25:58Z"
    generation: 8
    labels:
      app: migration
      app.kubernetes.io/part-of: openshift-migration
      control-plane: controller-manager
      controller-tools.k8s.io: "1.0"
    name: migration-controller
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: migration.openshift.io/v1alpha1
      kind: MigrationController
      name: migration-controller
      uid: 6c83ac9d-343f-4bbd-82b5-65232ad8f08e
    resourceVersion: "476624646"
    uid: fa7f85ce-f2e0-4f2e-a778-ab8754b45642
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: migration
        control-plane: controller-manager
        controller-tools.k8s.io: "1.0"
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: migration
          app.kubernetes.io/part-of: openshift-migration
          cluster_config_name: migration-cluster-config-d85hf4294b
          control-plane: controller-manager
          controller-tools.k8s.io: "1.0"
          controller_config_name: migration-controller-kf64f8d8b4
          webhook_secret_name: webhook-server-secret-hbm87h96gd
      spec:
        containers:
        - command:
          - /manager
          env:
          - name: EXCLUDED_RESOURCES
            value: imagetags,templateinstances,clusterserviceversions,packagemanifests,subscriptions,servicebrokers,servicebindings,serviceclasses,serviceinstances,serviceplans,operatorgroups,events,events.events.k8s.io,rolebindings.authorization.openshift.io
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ROLE
            value: mtc
          - name: SECRET_NAME
            value: webhook-server-secret
          - name: MIGRATION_REGISTRY_IMAGE
            value: registry.redhat.io/rhmtc/openshift-migration-registry-rhel8@sha256:03a267f927d08143b1b044bdc75618b60a3d011cac70164e0d201857cd39a5e2
          envFrom:
          - configMapRef:
              name: migration-controller
          image: registry.redhat.io/rhmtc/openshift-migration-controller-rhel8@sha256:2f14742d58bf09442510845664d7ea7175a7230f800e3cf0e77b4f1e4cb96e1c
          imagePullPolicy: Always
          name: mtc
          ports:
          - containerPort: 9876
            name: webhook-server
            protocol: TCP
          resources:
            limits:
              cpu: "1"
              memory: 10Gi
            requests:
              cpu: 100m
              memory: 350Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp/cert
            name: cert
            readOnly: true
        - command:
          - /manager
          env:
          - name: POD_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: ROLE
            value: discovery
          - name: SECRET_NAME
            value: webhook-server-secret
          envFrom:
          - configMapRef:
              name: migration-controller
          image: registry.redhat.io/rhmtc/openshift-migration-controller-rhel8@sha256:2f14742d58bf09442510845664d7ea7175a7230f800e3cf0e77b4f1e4cb96e1c
          imagePullPolicy: Always
          name: discovery
          ports:
          - containerPort: 8080
            name: webhook-server
            protocol: TCP
          resources:
            limits:
              cpu: "1"
              memory: 10Gi
            requests:
              cpu: 100m
              memory: 350Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/cache/discovery
            name: discovery
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: migration-controller
        serviceAccountName: migration-controller
        terminationGracePeriodSeconds: 10
        volumes:
        - name: cert
          secret:
            defaultMode: 420
            secretName: webhook-server-secret
        - emptyDir: {}
          name: discovery
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-12T20:25:58Z"
      lastUpdateTime: "2024-07-11T17:33:21Z"
      message: ReplicaSet "migration-controller-9688b78dc" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:57Z"
      lastUpdateTime: "2024-07-24T20:17:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 8
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-12T20:25:59Z"
    generation: 8
    labels:
      app: migration
      app.kubernetes.io/part-of: openshift-migration
    name: migration-log-reader
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: migration.openshift.io/v1alpha1
      kind: MigrationController
      name: migration-controller
      uid: 6c83ac9d-343f-4bbd-82b5-65232ad8f08e
    resourceVersion: "476624533"
    uid: 7f38fad4-3fee-4c5d-bcaf-30106b281492
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        logreader: mig
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: migration
          logreader: mig
      spec:
        containers:
        - env:
          - name: STERN_COLOR
            value: always
          - name: KSUFFIX
            value: color
          image: registry.redhat.io/rhmtc/openshift-migration-log-reader-rhel8@sha256:db002b2271ae87333f2d749433fa373c4455c820faf0ad4f4fcbd46d010fc1d9
          imagePullPolicy: Always
          name: color
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/cache/sa2kubeconfig
            name: kubeconfig
        - env:
          - name: STERN_COLOR
            value: never
          - name: KSUFFIX
            value: plain
          image: registry.redhat.io/rhmtc/openshift-migration-log-reader-rhel8@sha256:db002b2271ae87333f2d749433fa373c4455c820faf0ad4f4fcbd46d010fc1d9
          imagePullPolicy: Always
          name: plain
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/cache/sa2kubeconfig
            name: kubeconfig
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: migration-controller
        serviceAccountName: migration-controller
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: kubeconfig
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-12T20:25:59Z"
      lastUpdateTime: "2024-07-11T17:33:21Z"
      message: ReplicaSet "migration-log-reader-6577995b5b" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:56Z"
      lastUpdateTime: "2024-07-24T20:17:56Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 8
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-11T19:02:17Z"
    generation: 102
    labels:
      olm.deployment-spec-hash: 6486fd7c5
      olm.owner: mtc-operator.v1.7.16
      olm.owner.kind: ClusterServiceVersion
      olm.owner.namespace: openshift-migration
      operators.coreos.com/mtc-operator.openshift-migration: ""
    name: migration-operator
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: operators.coreos.com/v1alpha1
      blockOwnerDeletion: false
      controller: false
      kind: ClusterServiceVersion
      name: mtc-operator.v1.7.16
      uid: 92379bf9-f5b5-4f6c-8e75-c1d41bd6f15e
    resourceVersion: "476624555"
    uid: a5f918d8-53d8-4639-a995-3d9afe04c647
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 1
    selector:
      matchLabels:
        app: migration
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          alm-examples: |-
            [
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigrationController",
                  "metadata": {
                    "name": "migration-controller",
                    "namespace": "openshift-migration"
                  },
                  "spec": {
                    "azure_resource_group": "",
                    "cluster_name": "host",
                    "migration_velero": true,
                    "migration_controller": true,
                    "migration_ui": true,
                    "migration_log_reader": true,
                    "olm_managed": true,
                    "restic_timeout": "1h",
                    "mig_pv_limit": "100",
                    "mig_pod_limit": "100",
                    "mig_namespace_limit": "10"
                  }
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "DirectImageMigration",
                  "metadata": {
                    "name": "directimagemigration",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "DirectImageStreamMigration",
                  "metadata": {
                    "name": "directimagestreammigration",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigAnalytic",
                  "metadata": {
                    "name": "host",
                    "namespace": "openshift-migration"
                  },
                  "spec": {
                    "plan": {
                      "name": "foo",
                      "namespace": "openshift-migration"
                    },
                    "analyzeK8SResources": true,
                    "analyzeImageCount": true,
                    "analyzePVCapacity": true
                  }
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigCluster",
                  "metadata": {
                    "name": "host",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "DirectVolumeMigration",
                  "metadata": {
                    "name": "direct",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                      "kind": "DirectVolumeMigrationProgress",
                      "metadata": {
                        "name": "direct-progress",
                        "namespace": "openshift-migration"
                      },
                      "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigPlan",
                  "metadata": {
                    "name": "migplan",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigMigration",
                  "metadata": {
                    "name": "migmigration",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              },
              {
                  "apiVersion": "migration.openshift.io/v1alpha1",
                  "kind": "MigStorage",
                  "metadata": {
                    "name": "migstorage",
                    "namespace": "openshift-migration"
                  },
                  "spec": {}
              }
            ]
          capabilities: Seamless Upgrades
          categories: OpenShift Optional, Modernization & Migration
          certified: "false"
          containerImage: registry.redhat.io/rhmtc/openshift-migration-rhel8-operator@sha256:8f1891677fbb290f130b906050bad0918353da85b5953bed593dc28038707807
          createdAt: "2024-06-26T18:13:06Z"
          description: Facilitates migration of container workloads from OpenShift
            3.x to OpenShift 4.x
          features.operators.openshift.io/cnf: "false"
          features.operators.openshift.io/cni: "false"
          features.operators.openshift.io/csi: "false"
          features.operators.openshift.io/disconnected: "true"
          features.operators.openshift.io/fips-compliant: "false"
          features.operators.openshift.io/proxy-aware: "false"
          features.operators.openshift.io/tls-profiles: "false"
          features.operators.openshift.io/token-auth-aws: "false"
          features.operators.openshift.io/token-auth-azure: "false"
          features.operators.openshift.io/token-auth-gcp: "false"
          olm.operatorGroup: openshift-migration-z5b5h
          olm.operatorNamespace: openshift-migration
          olm.skipRange: '>=1.5.0 <1.7.16'
          olm.targetNamespaces: openshift-migration
          operatorframework.io/cluster-monitoring: "true"
          operatorframework.io/properties: '{"properties":[{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigrationController","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigPlan","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigStorage","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"DirectImageStreamMigration","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigCluster","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigHook","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"DirectVolumeMigration","version":"v1alpha1"}},{"type":"olm.package","value":{"packageName":"mtc-operator","version":"1.7.16"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"DirectVolumeMigrationProgress","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigAnalytic","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"MigMigration","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"migration.openshift.io","kind":"DirectImageMigration","version":"v1alpha1"}},{"type":"olm.package.required","value":{"packageName":"redhat-oadp-operator","versionRange":"\u003e=1.0.14
            \u003c1.1.0"}}]}'
          operatorframework.io/suggested-namespace: openshift-migration
          operators.openshift.io/infrastructure-features: '["Disconnected"]'
          operators.openshift.io/must-gather-image: registry.redhat.io/rhmtc/openshift-migration-must-gather-rhel8@sha256:5fdab45b5ec09a8044f33d890c9e616154bf6b3844674b52f8548c4c95dffefd
          operators.openshift.io/valid-subscription: '["OpenShift Container Platform",
            "OpenShift Platform Plus"]'
          repository: https://github.com/konveyor/mig-operator
          support: Red Hat
        creationTimestamp: null
        labels:
          app: migration
      spec:
        containers:
        - env:
          - name: OPERATOR_NAME
            value: migration-operator
          - name: POD_NAME
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.name
          - name: WATCH_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: REGISTRY
            value: registry.redhat.io
          - name: PROJECT
            value: rhmtc
          - name: RSYNC_TRANSFER_REPO
            value: openshift-migration-rsync-transfer-rhel8@sha256
          - name: RSYNC_TRANSFER_TAG
            value: d1d65d090533509619a037318a4a56bf78e37571a4f836b89a83d2f449721983
          - name: HOOK_RUNNER_REPO
            value: openshift-migration-hook-runner-rhel8@sha256
          - name: HOOK_RUNNER_TAG
            value: 8d12970d0dd5379b55e25504efe65168535d58c2cafd5a14ec7a6cd2ecbc4973
          - name: MIG_CONTROLLER_REPO
            value: openshift-migration-controller-rhel8@sha256
          - name: MIG_CONTROLLER_TAG
            value: 2f14742d58bf09442510845664d7ea7175a7230f800e3cf0e77b4f1e4cb96e1c
          - name: MIG_UI_REPO
            value: openshift-migration-ui-rhel8@sha256
          - name: MIG_UI_TAG
            value: 90321b75d2de313fd2f4cb0303ece5b186448bedda864c0eaf932a22b1a9c5e2
          - name: MIG_LOG_READER_REPO
            value: openshift-migration-log-reader-rhel8@sha256
          - name: MIG_LOG_READER_TAG
            value: db002b2271ae87333f2d749433fa373c4455c820faf0ad4f4fcbd46d010fc1d9
          - name: MIGRATION_REGISTRY_REPO
            value: openshift-migration-registry-rhel8@sha256
          - name: MIGRATION_REGISTRY_TAG
            value: 03a267f927d08143b1b044bdc75618b60a3d011cac70164e0d201857cd39a5e2
          - name: VELERO_REPO
            value: openshift-migration-velero-rhel8@sha256
          - name: VELERO_TAG
            value: 4892f019cab3bbe9f14680a692cd94b0bbbf55571b8be3b16ab4aab8238b70f3
          - name: VELERO_PLUGIN_REPO
            value: openshift-velero-plugin-rhel8@sha256
          - name: VELERO_PLUGIN_TAG
            value: b55b9829db207cd26f542c2fd735fe910ac8b4e45212622e7170aa20d7a32758
          - name: VELERO_RESTIC_RESTORE_HELPER_REPO
            value: openshift-migration-velero-restic-restore-helper-rhel8@sha256
          - name: VELERO_RESTIC_RESTORE_HELPER_TAG
            value: 5bab782d274c5eed359f2cd89530349fb7402d273d12f971b56901b7afe962a9
          - name: VELERO_AWS_PLUGIN_REPO
            value: openshift-migration-velero-plugin-for-aws-rhel8@sha256
          - name: VELERO_AWS_PLUGIN_TAG
            value: fb397d4608359b246754c5b4bb382f2ecfc3125aac4ca6f5d8f8cb49fbc018a0
          - name: VELERO_GCP_PLUGIN_REPO
            value: openshift-migration-velero-plugin-for-gcp-rhel8@sha256
          - name: VELERO_GCP_PLUGIN_TAG
            value: 01b1c7d7cbcc7670008450ab8aa695ff7fd84aaca06c6a1362407c08e772a198
          - name: VELERO_AZURE_PLUGIN_REPO
            value: openshift-migration-velero-plugin-for-microsoft-azure-rhel8@sha256
          - name: VELERO_AZURE_PLUGIN_TAG
            value: c811c61e3d77a3e3c7d5b28619ce77eba64d93030b86ca3eea49562921f97f27
          - name: OPERATOR_CONDITION_NAME
            value: mtc-operator.v1.7.16
          image: registry.redhat.io/rhmtc/openshift-migration-rhel8-operator@sha256:8f1891677fbb290f130b906050bad0918353da85b5953bed593dc28038707807
          imagePullPolicy: Always
          name: operator
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /tmp/ansible-operator/runner
            name: runner
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsNonRoot: true
        serviceAccount: migration-operator
        serviceAccountName: migration-operator
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: runner
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-11T19:02:17Z"
      lastUpdateTime: "2024-07-11T17:32:29Z"
      message: ReplicaSet "migration-operator-864956fc8d" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:57Z"
      lastUpdateTime: "2024-07-24T20:17:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 102
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-12T20:26:10Z"
    generation: 8
    labels:
      app: migration
      service: migration-ui
    name: migration-ui
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: migration.openshift.io/v1alpha1
      kind: MigrationController
      name: migration-controller
      uid: 6c83ac9d-343f-4bbd-82b5-65232ad8f08e
    resourceVersion: "476624621"
    uid: 607225a7-51a1-44bd-b93c-076efc4424bf
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: migration
        service: migration-ui
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: migration
          app.kubernetes.io/part-of: openshift-migration
          service: migration-ui
          ui-config-name: mig-ui-config-5gm5c57bc8
      spec:
        containers:
        - env:
          - name: CLUSTER_API_URL
            value: https://kubernetes.default.svc.cluster.local
          - name: DISCOVERY_SVC_URL
            value: http://discovery.openshift-migration.svc.cluster.local
          image: registry.redhat.io/rhmtc/openshift-migration-ui-rhel8@sha256:90321b75d2de313fd2f4cb0303ece5b186448bedda864c0eaf932a22b1a9c5e2
          imagePullPolicy: Always
          name: mig-ui
          ports:
          - containerPort: 9000
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/mig-ui
            name: mig-ui-config
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: mig-ui-config
          name: mig-ui-config
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-12T20:26:10Z"
      lastUpdateTime: "2024-07-11T17:33:35Z"
      message: ReplicaSet "migration-ui-86f78879f7" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:57Z"
      lastUpdateTime: "2024-07-24T20:17:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 8
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-06T12:20:20Z"
    generation: 139
    labels:
      control-plane: controller-manager
      olm.deployment-spec-hash: 57f48df8c4
      olm.owner: oadp-operator.v1.0.16
      olm.owner.kind: ClusterServiceVersion
      olm.owner.namespace: openshift-migration
      operators.coreos.com/redhat-oadp-operator.openshift-migration: ""
    name: openshift-adp-controller-manager
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: operators.coreos.com/v1alpha1
      blockOwnerDeletion: false
      controller: false
      kind: ClusterServiceVersion
      name: oadp-operator.v1.0.16
      uid: 5f287fe9-f79a-466a-b87f-e751cf75fac3
    resourceVersion: "476624602"
    uid: 672687ba-56cf-4306-8fb8-a5fb89b07b0b
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 1
    selector:
      matchLabels:
        control-plane: controller-manager
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          alm-examples: |-
            [
              {
                "apiVersion": "oadp.openshift.io/v1alpha1",
                "kind": "DataProtectionApplication",
                "metadata": {
                  "name": "velero-sample"
                },
                "spec": {
                  "backupLocations": [
                    {
                      "velero": {
                        "config": {
                          "profile": "default",
                          "region": "us-east-1"
                        },
                        "credential": {
                          "key": "cloud",
                          "name": "cloud-credentials"
                        },
                        "default": true,
                        "objectStorage": {
                          "bucket": "my-bucket-name",
                          "prefix": "velero"
                        },
                        "provider": "aws"
                      }
                    }
                  ],
                  "configuration": {
                    "restic": {
                      "enable": true
                    },
                    "velero": {
                      "defaultPlugins": [
                        "openshift",
                        "aws",
                        "kubevirt"
                      ]
                    }
                  },
                  "snapshotLocations": [
                    {
                      "velero": {
                        "config": {
                          "profile": "default",
                          "region": "us-west-2"
                        },
                        "provider": "aws"
                      }
                    }
                  ]
                }
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "Backup",
                "metadata": {
                  "name": "backup",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "BackupStorageLocation",
                "metadata": {
                  "name": "backupstoragelocation",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "DeleteBackupRequest",
                "metadata": {
                  "name": "deletebackuprequest",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "DownloadRequest",
                "metadata": {
                  "name": "downloadrequest",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "PodVolumeBackup",
                "metadata": {
                  "name": "podvolumebackup",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "PodVolumeRestore",
                "metadata": {
                  "name": "podvolumerestore",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "ResticRepository",
                "metadata": {
                  "name": "resticrepository",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "Restore",
                "metadata": {
                  "name": "restore",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "Schedule",
                "metadata": {
                  "name": "schedule",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "ServerStatusRequest",
                "metadata": {
                  "name": "serverstatusrequest",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              },
              {
                "apiVersion": "velero.io/v1",
                "kind": "VolumeSnapshotLocation",
                "metadata": {
                  "name": "volumesnapshotlocation",
                  "namespace": "openshift-adp"
                },
                "spec": {}
              }
            ]
          capabilities: Seamless Upgrades
          categories: OpenShift Optional
          certified: "false"
          containerImage: registry.redhat.io/oadp/oadp-rhel8-operator@sha256:5ba8d9bca89945f05cc8f071e1a96bf62dcf21792ff2ca09033464dabd67e293
          createdAt: "2024-06-26T17:04:33Z"
          description: |-
            OADP (OpenShift API for Data Protection) operator sets up and installs
            Velero on the OpenShift platform.
          features.operators.openshift.io/cnf: "false"
          features.operators.openshift.io/cni: "false"
          features.operators.openshift.io/csi: "false"
          features.operators.openshift.io/disconnected: "true"
          features.operators.openshift.io/fips-compliant: "false"
          features.operators.openshift.io/proxy-aware: "false"
          features.operators.openshift.io/tls-profiles: "false"
          features.operators.openshift.io/token-auth-aws: "false"
          features.operators.openshift.io/token-auth-azure: "false"
          features.operators.openshift.io/token-auth-gcp: "false"
          olm.operatorGroup: openshift-migration-z5b5h
          olm.operatorNamespace: openshift-migration
          olm.skipRange: '>=0.0.0 <1.0.16'
          olm.targetNamespaces: openshift-migration
          operatorframework.io/cluster-monitoring: "true"
          operatorframework.io/properties: '{"properties":[{"type":"olm.gvk","value":{"group":"oadp.openshift.io","kind":"DataProtectionApplication","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"DownloadRequest","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"VolumeSnapshotLocation","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"Backup","version":"v1"}},{"type":"olm.package","value":{"packageName":"redhat-oadp-operator","version":"1.0.16"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"PodVolumeBackup","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"Restore","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"PodVolumeRestore","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"ResticRepository","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"BackupStorageLocation","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"ServerStatusRequest","version":"v1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"Schedule","version":"v1"}},{"type":"olm.gvk","value":{"group":"oadp.openshift.io","kind":"CloudStorage","version":"v1alpha1"}},{"type":"olm.gvk","value":{"group":"velero.io","kind":"DeleteBackupRequest","version":"v1"}}]}'
          operatorframework.io/suggested-namespace: openshift-adp
          operators.openshift.io/infrastructure-features: '["Disconnected"]'
          operators.openshift.io/must-gather-image: registry.redhat.io/oadp/oadp-mustgather-rhel8@sha256:35028c0615425ac1756a3e16de2b6f0559a8131b74d553c49751a6cf25d36832
          operators.openshift.io/valid-subscription: '["OpenShift Container Platform",
            "OpenShift Platform Plus"]'
          operators.operatorframework.io/builder: operator-sdk-v1.21.0
          operators.operatorframework.io/project_layout: go.kubebuilder.io/v3
          repository: https://github.com/openshift/oadp-operator
          support: Red Hat
        creationTimestamp: null
        labels:
          control-plane: controller-manager
      spec:
        containers:
        - args:
          - --leader-elect
          command:
          - /manager
          env:
          - name: WATCH_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.annotations['olm.targetNamespaces']
          - name: RELATED_IMAGE_VELERO
            value: registry.redhat.io/oadp/oadp-velero-rhel8@sha256:9b681de9e02cb402e24fa10dce66b36d02702b82ece9dff511bb6c7d1e6c9c31
          - name: RELATED_IMAGE_VELERO_RESTIC_RESTORE_HELPER
            value: registry.redhat.io/oadp/oadp-velero-restic-restore-helper-rhel8@sha256:602414650663295350974dea5e58658866927770d0bb10b2147749b5cdb78980
          - name: RELATED_IMAGE_OPENSHIFT_VELERO_PLUGIN
            value: registry.redhat.io/oadp/oadp-velero-plugin-rhel8@sha256:eac641a34d00fb5592e38d559b85cce99bbce436ae3ac2f3767d164d374a2278
          - name: RELATED_IMAGE_REGISTRY
            value: registry.redhat.io/oadp/oadp-registry-rhel8@sha256:c4b6cb088c96ec7aca6014e8d48f83fa4b2067edd507d1da73e48a969c7c9da9
          - name: RELATED_IMAGE_VELERO_PLUGIN_FOR_AWS
            value: registry.redhat.io/oadp/oadp-velero-plugin-for-aws-rhel8@sha256:a12100d0faf4dd4bdeb5212186d8a94c88a2b73d3632bdd4b6f504895fafb704
          - name: RELATED_IMAGE_VELERO_PLUGIN_FOR_MICROSOFT_AZURE
            value: registry.redhat.io/oadp/oadp-velero-plugin-for-microsoft-azure-rhel8@sha256:60b7d0f7ab58efcc1dc2ed13f3cb77b7396308a63580b3bf9235172b263a0ba2
          - name: RELATED_IMAGE_VELERO_PLUGIN_FOR_GCP
            value: registry.redhat.io/oadp/oadp-velero-plugin-for-gcp-rhel8@sha256:97e901972699a73e32e6ac456038179d6a614ea0fe29e052d0f872d66ac38365
          - name: RELATED_IMAGE_VELERO_PLUGIN_FOR_CSI
            value: registry.redhat.io/oadp/oadp-velero-plugin-for-csi-rhel8@sha256:db98264e722a3756ed923fff8f19b03dc6047105c372279c24fb707b3a0bd4aa
          - name: RELATED_IMAGE_KUBEVIRT_VELERO_PLUGIN
            value: registry.redhat.io/oadp/oadp-kubevirt-velero-plugin-rhel8@sha256:5c178c7d50f8a7ec9588648c7c978ae6707eaf26b851edef947b9d2d5635b3d4
          - name: RELATED_IMAGE_MUSTGATHER
            value: registry.redhat.io/oadp/oadp-mustgather-rhel8@sha256:35028c0615425ac1756a3e16de2b6f0559a8131b74d553c49751a6cf25d36832
          - name: OPERATOR_CONDITION_NAME
            value: oadp-operator.v1.0.16
          image: registry.redhat.io/oadp/oadp-rhel8-operator@sha256:5ba8d9bca89945f05cc8f071e1a96bf62dcf21792ff2ca09033464dabd67e293
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 20
            successThreshold: 1
            timeoutSeconds: 1
          name: manager
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /readyz
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              cpu: "1"
              memory: 512Mi
            requests:
              cpu: 500m
              memory: 128Mi
          securityContext:
            allowPrivilegeEscalation: false
          startupProbe:
            failureThreshold: 12
            httpGet:
              path: /healthz
              port: 8081
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/run/secrets/openshift/serviceaccount
            name: bound-sa-token
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext:
          runAsNonRoot: true
        serviceAccount: openshift-adp-controller-manager
        serviceAccountName: openshift-adp-controller-manager
        terminationGracePeriodSeconds: 10
        volumes:
        - name: bound-sa-token
          projected:
            defaultMode: 420
            sources:
            - serviceAccountToken:
                audience: openshift
                expirationSeconds: 3600
                path: token
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-06T12:20:20Z"
      lastUpdateTime: "2024-07-11T14:23:27Z"
      message: ReplicaSet "openshift-adp-controller-manager-5f7bb58f7" has successfully
        progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:57Z"
      lastUpdateTime: "2024-07-24T20:17:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 139
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "8"
    creationTimestamp: "2023-05-12T20:25:40Z"
    generation: 8
    labels:
      app.kubernetes.io/component: server
      app.kubernetes.io/instance: velero
      app.kubernetes.io/managed-by: oadp-operator
      app.kubernetes.io/name: velero
      component: velero
      openshift.io/oadp: "True"
    name: velero
    namespace: openshift-migration
    ownerReferences:
    - apiVersion: oadp.openshift.io/v1alpha1
      blockOwnerDeletion: true
      controller: true
      kind: DataProtectionApplication
      name: velero
      uid: 2243f0dc-d566-45ae-9332-0148894804c0
    resourceVersion: "476624575"
    uid: 6e0a5e8e-ddf9-4f86-b61f-624e37d518c6
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app.kubernetes.io/component: server
        app.kubernetes.io/instance: velero
        app.kubernetes.io/managed-by: oadp-operator
        app.kubernetes.io/name: velero
        component: velero
        deploy: velero
        openshift.io/oadp: "True"
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        annotations:
          prometheus.io/path: /metrics
          prometheus.io/port: "8085"
          prometheus.io/scrape: "true"
        creationTimestamp: null
        labels:
          app.kubernetes.io/component: server
          app.kubernetes.io/instance: velero
          app.kubernetes.io/managed-by: oadp-operator
          app.kubernetes.io/name: velero
          app.kubernetes.io/part-of: openshift-migration
          component: velero
          deploy: velero
          openshift.io/oadp: "True"
      spec:
        containers:
        - args:
          - server
          - --restic-timeout=1h
          command:
          - /velero
          env:
          - name: VELERO_SCRATCH_DIR
            value: /scratch
          - name: VELERO_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: LD_LIBRARY_PATH
            value: /plugins
          - name: AWS_SHARED_CREDENTIALS_FILE
            value: /credentials/cloud
          - name: GOOGLE_APPLICATION_CREDENTIALS
            value: /credentials-gcp/cloud
          - name: AZURE_CREDENTIALS_FILE
            value: /credentials-azure/cloud
          image: registry.redhat.io/oadp/oadp-velero-rhel8@sha256:9b681de9e02cb402e24fa10dce66b36d02702b82ece9dff511bb6c7d1e6c9c31
          imagePullPolicy: Always
          name: velero
          ports:
          - containerPort: 8085
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: "1"
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /plugins
            name: plugins
          - mountPath: /scratch
            name: scratch
          - mountPath: /etc/ssl/certs
            name: certs
          - mountPath: /credentials
            name: cloud-credentials
          - mountPath: /credentials-gcp
            name: cloud-credentials-gcp
          - mountPath: /credentials-azure
            name: cloud-credentials-azure
        dnsPolicy: ClusterFirst
        initContainers:
        - image: registry.redhat.io/oadp/oadp-velero-plugin-rhel8@sha256:eac641a34d00fb5592e38d559b85cce99bbce436ae3ac2f3767d164d374a2278
          imagePullPolicy: Always
          name: openshift-velero-plugin
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /target
            name: plugins
        - image: registry.redhat.io/oadp/oadp-velero-plugin-for-aws-rhel8@sha256:a12100d0faf4dd4bdeb5212186d8a94c88a2b73d3632bdd4b6f504895fafb704
          imagePullPolicy: Always
          name: velero-plugin-for-aws
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /target
            name: plugins
        - image: registry.redhat.io/oadp/oadp-velero-plugin-for-gcp-rhel8@sha256:97e901972699a73e32e6ac456038179d6a614ea0fe29e052d0f872d66ac38365
          imagePullPolicy: Always
          name: velero-plugin-for-gcp
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /target
            name: plugins
        - image: registry.redhat.io/oadp/oadp-velero-plugin-for-microsoft-azure-rhel8@sha256:60b7d0f7ab58efcc1dc2ed13f3cb77b7396308a63580b3bf9235172b263a0ba2
          imagePullPolicy: Always
          name: velero-plugin-for-microsoft-azure
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /target
            name: plugins
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: velero
        serviceAccountName: velero
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: plugins
        - emptyDir: {}
          name: scratch
        - emptyDir: {}
          name: certs
        - name: cloud-credentials
          secret:
            defaultMode: 420
            secretName: cloud-credentials
        - name: cloud-credentials-gcp
          secret:
            defaultMode: 420
            secretName: cloud-credentials-gcp
        - name: cloud-credentials-azure
          secret:
            defaultMode: 420
            secretName: cloud-credentials-azure
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2023-05-12T20:25:40Z"
      lastUpdateTime: "2024-07-11T14:24:59Z"
      message: ReplicaSet "velero-5bcb94bb68" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    - lastTransitionTime: "2024-07-24T20:17:57Z"
      lastUpdateTime: "2024-07-24T20:17:57Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    observedGeneration: 8
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
